<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>心梦</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-12-04T03:43:59.584Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>心梦</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>极世界-基础场景与UI</title>
    <link href="http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%9F%BA%E7%A1%80%E5%9C%BA%E6%99%AF%E4%B8%8EUI/"/>
    <id>http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%9F%BA%E7%A1%80%E5%9C%BA%E6%99%AF%E4%B8%8EUI/</id>
    <published>2022-12-04T03:43:08.000Z</published>
    <updated>2022-12-04T03:43:59.584Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>网络编程</title>
    <link href="http://example.com/2022/12/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    <id>http://example.com/2022/12/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</id>
    <published>2022-12-04T03:12:29.000Z</published>
    <updated>2022-12-04T03:42:26.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="网络" scheme="http://example.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="网络编程" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>极世界03</title>
    <link href="http://example.com/2022/12/03/%E6%9E%81%E4%B8%96%E7%95%8C03/"/>
    <id>http://example.com/2022/12/03/%E6%9E%81%E4%B8%96%E7%95%8C03/</id>
    <published>2022-12-03T04:35:49.000Z</published>
    <updated>2022-12-04T03:43:55.326Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">游戏框架设计</span><br><span class="line">层划分</span><br><span class="line">服务端功能</span><br><span class="line"></span><br><span class="line">协议文件位置  E:\极世界MMORPG\Art\mmorpg\Src\Lib\proto</span><br><span class="line"></span><br><span class="line">网络添加协议 发送消息</span><br></pre></td></tr></table></figure><h1 id="层"><a href="#层" class="headerlink" title="层"></a>层</h1><p><img src="/../images/image-20221203133427907.png" alt="image-20221203133427907"></p><h2 id="服务层"><a href="#服务层" class="headerlink" title="服务层"></a>服务层</h2><p>客户端与服务层的直接接口</p><p>服务端代码处理客户端提出的请求并进行响应</p><h1 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h1><p><img src="/../images/image-20221203133433932.png" alt="image-20221203133433932"></p><h1 id="网络添加协议-发送消息"><a href="#网络添加协议-发送消息" class="headerlink" title="网络添加协议 发送消息"></a>网络添加协议 发送消息</h1><h2 id="协议中添加测试消息"><a href="#协议中添加测试消息" class="headerlink" title="协议中添加测试消息"></a>协议中添加测试消息</h2><p><img src="/../images/image-20221203204422609.png" alt="image-20221203204422609"></p><h2 id="设定message"><a href="#设定message" class="headerlink" title="设定message"></a>设定message</h2><p><img src="/../images/image-20221203204439886.png" alt="image-20221203204439886"></p><h2 id="点击生成协议工具"><a href="#点击生成协议工具" class="headerlink" title="点击生成协议工具"></a>点击生成协议工具</h2><p><img src="/../images/image-20221203204556312.png" alt="image-20221203204556312"></p><h2 id="到服务器解决方案生成解决方案"><a href="#到服务器解决方案生成解决方案" class="headerlink" title="到服务器解决方案生成解决方案"></a>到服务器解决方案生成解决方案</h2><p><img src="/../images/image-20221203204838581.png" alt="image-20221203204838581"></p><h2 id="protocal-x2F-bin-x2F-debug下四个文件替换到Client-Assets-References目录下"><a href="#protocal-x2F-bin-x2F-debug下四个文件替换到Client-Assets-References目录下" class="headerlink" title="protocal&#x2F;bin&#x2F;debug下四个文件替换到Client\Assets\References目录下"></a>protocal&#x2F;bin&#x2F;debug下四个文件替换到Client\Assets\References目录下</h2><p><img src="/../images/image-20221203205318882.png" alt="image-20221203205318882"></p><p>可以配置E:\极世界MMORPG\mymmo\Src\Lib\Protocol\Protocol.csproj</p><p>来省去此步操作</p><h2 id="发送消息"><a href="#发送消息" class="headerlink" title="发送消息"></a>发送消息</h2><p><img src="/../images/image-20221203215303487.png" alt="image-20221203215303487"></p><h2 id="在services目录下建立HelloWorldService"><a href="#在services目录下建立HelloWorldService" class="headerlink" title="在services目录下建立HelloWorldService"></a>在services目录下建立HelloWorldService</h2><p><img src="/../images/image-20221203224208351.png" alt="image-20221203224208351"></p><h2 id="在gameserver下加入hellowordservice的init和stare"><a href="#在gameserver下加入hellowordservice的init和stare" class="headerlink" title="在gameserver下加入hellowordservice的init和stare"></a>在gameserver下加入hellowordservice的init和stare</h2><p><img src="/../images/image-20221203224302850.png" alt="image-20221203224302850"></p><h2 id="在Network-MessageDispatch-cs中加入消息分发"><a href="#在Network-MessageDispatch-cs中加入消息分发" class="headerlink" title="在Network\MessageDispatch.cs中加入消息分发"></a>在Network\MessageDispatch.cs中加入消息分发</h2><p><img src="/../images/image-20221203224402922.png" alt="image-20221203224402922"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;s</summary>
      
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界02</title>
    <link href="http://example.com/2022/11/23/%E6%9E%81%E4%B8%96%E7%95%8C02/"/>
    <id>http://example.com/2022/11/23/%E6%9E%81%E4%B8%96%E7%95%8C02/</id>
    <published>2022-11-23T08:27:08.000Z</published>
    <updated>2022-12-03T06:59:22.053Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">策划文档  美术规范  技术文档</span><br><span class="line"></span><br><span class="line">untiy 2018 配套使用 vs2017</span><br><span class="line"></span><br><span class="line">配置表工具  excel</span><br><span class="line">协议工具   客户端与服务端的约定 为协议</span><br><span class="line">其他工具   </span><br><span class="line">框架  客户端    </span><br><span class="line">         日志  配置  数据加载  网络 </span><br><span class="line">框架  服务端</span><br><span class="line">         日志 配置 数据加载 网络 DB访问 基础组件</span><br><span class="line">   </span><br><span class="line">json 比较灵活 可以做嵌套 性能比较高</span><br><span class="line"></span><br><span class="line">Entity Framework</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><p>使用<code>Goodle Protobuf</code></p><h2 id="协议位置"><a href="#协议位置" class="headerlink" title="协议位置"></a>协议位置</h2><p><img src="/../images/image-20221203143312124.png" alt="image-20221203143312124"></p><h2 id="协议生成工具"><a href="#协议生成工具" class="headerlink" title="协议生成工具"></a>协议生成工具</h2><p><img src="/../images/image-20221202162413483.png" alt="image-20221202162413483"></p><h2 id="协议代码"><a href="#协议代码" class="headerlink" title="协议代码"></a>协议代码</h2><p><img src="/../images/image-20221203143215923.png" alt="image-20221203143215923"></p><p>[(36条消息) Netty指南（7）：Google protobuf 基本介绍_非常之观常在险远的博客-CSDN博客_google.protobuf](<a href="https://blog.csdn.net/m0_50275872/article/details/124601019?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle">https://blog.csdn.net/m0_50275872/article/details/124601019?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle</a> Protobuf&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2<del>all</del>sobaiduweb~default-0-124601019.142^v67^pc_rank_34_queryrelevant25,201^v3^control_2,213^v2^t3_control2&amp;spm&#x3D;1018.2226.3001.4187)</p><p>[(36条消息) 谷歌protobuf(Protocol buffers)的使用_星辰1024的博客-CSDN博客_谷歌protobuf](<a href="https://blog.csdn.net/weixin_45491728/article/details/118682396?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle">https://blog.csdn.net/weixin_45491728/article/details/118682396?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle</a> Protobuf&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2<del>all</del>sobaiduweb~default-1-118682396.142^v67^pc_rank_34_queryrelevant25,201^v3^control_2,213^v2^t3_control2&amp;spm&#x3D;1018.2226.3001.4187)</p><p>Protocol buffers 是 Google 的语言中立、平台中立、可扩展的结构化数据序列化机制——像 XML，但更小、更快、更简单。您可以定义一次数据的结构化方式，然后您可以使用特殊生成的源代码轻松地使用各种语言在各种数据流中写入和读取结构化数据。<br>Photocol buffers 是一种比json和xml等序列化工具更加轻量和高效的结构化数据存储格式，性能比json和xml真的强很多。<br>原理图：</p><p><img src="/../images/image-20221203142228448.png" alt="image-20221203142228448"></p><h1 id="json"><a href="#json" class="headerlink" title="json"></a>json</h1><p><code>JsonDotNet</code> 解析<code>json</code>用的类库</p><h1 id="Entity-Framework"><a href="#Entity-Framework" class="headerlink" title="Entity Framework"></a><strong>Entity Framework</strong></h1>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;策划文档  美术规范  技术文档&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;untiy 2018 配套使用 vs2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;配置表工具  excel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;协议工具   客户端与服务端的约定 为协议&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;其他工具   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;框架  客户端    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         日志  配置  数据加载  网络 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;框架  服务端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         日志 配置 数据加载 网络 DB访问 基础组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json 比较灵活 可以做嵌套 性能比较高&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Entity Framework&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界01</title>
    <link href="http://example.com/2022/11/19/%E6%9E%81%E4%B8%96%E7%95%8C01/"/>
    <id>http://example.com/2022/11/19/%E6%9E%81%E4%B8%96%E7%95%8C01/</id>
    <published>2022-11-19T08:52:38.000Z</published>
    <updated>2022-11-23T08:27:38.843Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">项目准备</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a>项目准备</h1><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p><img src="/../images/image-20221119165947100.png" alt="image-20221119165947100"></p><p>使用谷歌的协议工具<code>GooGle Protobuf</code></p><h2 id="框架客户端"><a href="#框架客户端" class="headerlink" title="框架客户端"></a>框架客户端</h2><p><img src="/../images/image-20221119170242452.png" alt="image-20221119170242452"></p><h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><p><img src="/../images/image-20221119170624554.png" alt="image-20221119170624554"></p><h2 id="两种单例"><a href="#两种单例" class="headerlink" title="两种单例"></a>两种单例</h2><h3 id="普通类单例"><a href="#普通类单例" class="headerlink" title="普通类单例"></a>普通类单例</h3><p><img src="/../images/image-20221119174528835.png" alt="image-20221119174528835"></p><h3 id="游戏对象单例"><a href="#游戏对象单例" class="headerlink" title="游戏对象单例"></a>游戏对象单例</h3><p><img src="/../images/image-20221119174607124.png" alt="image-20221119174607124"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;项目准备&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>unity11-19</title>
    <link href="http://example.com/2022/11/19/unity11-19/"/>
    <id>http://example.com/2022/11/19/unity11-19/</id>
    <published>2022-11-19T05:01:51.000Z</published>
    <updated>2022-11-19T09:01:34.135Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">偷偷把项目做完了</span><br><span class="line">哔哩哔哩展示</span><br><span class="line">https://www.bilibili.com/video/BV1gd4y187rd</span><br><span class="line">还有晚上发工资的功能因为时长原因没有展示</span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;偷偷把项目做完了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;哔哩哔哩展示&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;https://www.bilibili.com/video/BV1gd4y187rd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;还有晚上发工资的功能因为时长原因没有展示&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-7</title>
    <link href="http://example.com/2022/11/07/unity11-7/"/>
    <id>http://example.com/2022/11/07/unity11-7/</id>
    <published>2022-11-07T00:40:38.000Z</published>
    <updated>2022-11-07T15:05:41.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">菜品属性查看</span><br><span class="line">菜品设置</span><br><span class="line">菜品开发</span><br><span class="line"></span><br><span class="line">2022年11月7日 舍友阳了  项目拖延了</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="菜品属性查看"><a href="#菜品属性查看" class="headerlink" title="菜品属性查看"></a>菜品属性查看</h1><p><img src="/../images/image-20221107211545129.png" alt="image-20221107211545129"></p><h1 id="菜品设置"><a href="#菜品设置" class="headerlink" title="菜品设置"></a>菜品设置</h1><p><img src="/../images/image-20221107211605068.png" alt="image-20221107211605068"></p><h1 id="菜品开发"><a href="#菜品开发" class="headerlink" title="菜品开发"></a>菜品开发</h1><p><img src="/../images/image-20221107211617752.png" alt="image-20221107211617752"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;菜品属性查看&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;菜品设置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;菜品开发&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2022年11月7日 舍友阳了  项目拖延了&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-6</title>
    <link href="http://example.com/2022/11/06/unity11-6/"/>
    <id>http://example.com/2022/11/06/unity11-6/</id>
    <published>2022-11-06T00:04:25.000Z</published>
    <updated>2022-11-07T13:14:21.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">店员属性显示</span><br><span class="line">上任店员，下任店员</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="店员属性显示"><a href="#店员属性显示" class="headerlink" title="店员属性显示"></a>店员属性显示</h1><p><img src="/../images/image-20221106083432634.png" alt="image-20221106083432634"></p><h1 id="下任店员"><a href="#下任店员" class="headerlink" title="下任店员"></a>下任店员</h1><p><img src="/../images/image-20221107083221728.png" alt="image-20221107083221728"></p><h1 id="上任店员"><a href="#上任店员" class="headerlink" title="上任店员"></a>上任店员</h1><p><img src="/../images/image-20221107083239152.png" alt="image-20221107083239152"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;店员属性显示&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;上任店员，下任店员&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-4</title>
    <link href="http://example.com/2022/11/04/unity11-4/"/>
    <id>http://example.com/2022/11/04/unity11-4/</id>
    <published>2022-11-04T09:34:49.000Z</published>
    <updated>2022-11-06T00:08:04.877Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">没有继承MonoBehaviour的类不能获取到继承 MonoBehaviour的脚本</span><br><span class="line">遍历字典的方法</span><br><span class="line">写了雇佣店员界面</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="遍历字典的方法"><a href="#遍历字典的方法" class="headerlink" title="遍历字典的方法"></a>遍历字典的方法</h1><p><strong>1、使用for遍历字典(Dictionary)</strong></p><p>注意：ElementAt()需要引入using System.Linq命名空间，Dictionary命令空间是using System.Collections.Generic;</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">     <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dic.Count; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> item = dic.ElementAt (i);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + item.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + item.Value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dic.Count; i++) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + dic.Keys.ElementAt (i));</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + dic.Values.ElementAt (i));</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>2、使用foreach遍历字典(Dictionary)</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">string</span> key <span class="keyword">in</span> dic.Keys) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + dic[key]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="built_in">string</span> <span class="keyword">value</span> <span class="keyword">in</span> dic.Values) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; item <span class="keyword">in</span> dic) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + item.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + item.Value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>3、使用while遍历字典(Dictionary)</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">     <span class="keyword">var</span> enumerator = dic.GetEnumerator ();</span><br><span class="line">        <span class="keyword">while</span> (enumerator.MoveNext ()) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + enumerator.Current.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + enumerator.Current.Value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h1 id="雇佣店员界面"><a href="#雇佣店员界面" class="headerlink" title="雇佣店员界面"></a>雇佣店员界面</h1><p><img src="/../images/image-20221106080800777.png" alt="image-20221106080800777"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;没有继承MonoBehaviour的类不能获取到继承 MonoBehaviour的脚本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;遍历字典的方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;写了雇佣店员界面&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-3</title>
    <link href="http://example.com/2022/11/03/unity11-3/"/>
    <id>http://example.com/2022/11/03/unity11-3/</id>
    <published>2022-11-03T14:29:40.000Z</published>
    <updated>2022-11-03T15:43:11.942Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">写了一下主界面</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h1><p><img src="/../images/image-20221103223104622.png" alt="image-20221103223104622"></p><p><img src="/../images/image-20221103234305052.png" alt="image-20221103234305052"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;写了一下主界面&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-2</title>
    <link href="http://example.com/2022/11/02/unity11-2/"/>
    <id>http://example.com/2022/11/02/unity11-2/</id>
    <published>2022-11-02T08:16:47.000Z</published>
    <updated>2022-11-02T15:04:24.847Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置发布屏幕大小</span><br><span class="line">时钟脚本</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="设置发布屏幕大小"><a href="#设置发布屏幕大小" class="headerlink" title="设置发布屏幕大小"></a>设置发布屏幕大小</h1><p><img src="/../images/image-20221102204249929.png" alt="image-20221102204249929"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">setScreen</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;屏幕大小比例&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> x = <span class="number">0.7f</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetScreen</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Screen.SetResolution(<span class="built_in">int</span>.Parse((<span class="number">1920</span>*x).ToString()),<span class="built_in">int</span>.Parse((<span class="number">1080</span> * x).ToString()), <span class="literal">true</span>);</span><br><span class="line">        Screen.fullScreen = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SetScreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="时钟脚本"><a href="#时钟脚本" class="headerlink" title="时钟脚本"></a>时钟脚本</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Clock</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;小时&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> hour = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分钟&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> minutes = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> seconds = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> realTime=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;是否显示秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> pointerSeconds_is_action;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerHours;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerMinutes;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerSeconds;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时间速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> clockSpeed = <span class="number">1.0f</span>;     <span class="comment">// 1.0f = realtime, &lt; 1.0f = slower, &gt; 1.0f = faster</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前时间</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> msecs=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        pointerSeconds.SetActive(pointerSeconds_is_action);</span><br><span class="line">    <span class="comment">//-- set real time</span></span><br><span class="line">    <span class="keyword">if</span> (realTime)</span><br><span class="line">    &#123;</span><br><span class="line">    hour=System.DateTime.Now.Hour;</span><br><span class="line">    minutes=System.DateTime.Now.Minute;</span><br><span class="line">    seconds=System.DateTime.Now.Second;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//-- calculate time</span></span><br><span class="line">        msecs += Time.deltaTime * clockSpeed;</span><br><span class="line">        <span class="keyword">if</span>(msecs &gt;= <span class="number">1.0f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = (<span class="built_in">int</span>)msecs;</span><br><span class="line">            seconds += x;</span><br><span class="line">            msecs -= x ;</span><br><span class="line">            <span class="keyword">if</span>(seconds &gt;= <span class="number">60</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                x = seconds / <span class="number">60</span>;</span><br><span class="line">                seconds %= <span class="number">60</span>;</span><br><span class="line">                minutes += x;</span><br><span class="line">                <span class="keyword">if</span>(minutes &gt; <span class="number">60</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    x = minutes / <span class="number">60</span>;</span><br><span class="line">                    minutes %= <span class="number">60</span>;</span><br><span class="line">                    hour += x;</span><br><span class="line">                    <span class="keyword">if</span> (hour &gt;= <span class="number">24</span>)</span><br><span class="line">                       hour %= <span class="number">24</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span> rotationSeconds = (<span class="number">360.0f</span> / <span class="number">60.0f</span>)  * seconds;</span><br><span class="line">        <span class="built_in">float</span> rotationMinutes = (<span class="number">360.0f</span> / <span class="number">60.0f</span>) * minutes + (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>) * seconds);</span><br><span class="line">        <span class="built_in">float</span> rotationHours   = ((<span class="number">360.0f</span> / <span class="number">12.0f</span>) * hour) + ((<span class="number">360.0f</span> / (<span class="number">60.0f</span> * <span class="number">12.0f</span>)) * minutes)+ (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>*<span class="number">60f</span>) * seconds);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pointerSeconds_is_action)</span><br><span class="line">        pointerSeconds.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationSeconds);</span><br><span class="line">        pointerMinutes.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationMinutes);</span><br><span class="line">        pointerHours.transform.localEulerAngles   = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationHours);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;设置发布屏幕大小&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;时钟脚本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-1</title>
    <link href="http://example.com/2022/11/01/unity11-1/"/>
    <id>http://example.com/2022/11/01/unity11-1/</id>
    <published>2022-10-31T23:43:09.000Z</published>
    <updated>2022-11-02T08:15:52.368Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数据库插入</span><br><span class="line">设置场景异步加载场景条</span><br><span class="line">玩家数据管理</span><br><span class="line">玩家登录注册写完了，可以进入游戏场景了 好耶</span><br><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="数据库插入函数"><a href="#数据库插入函数" class="headerlink" title="数据库插入函数"></a>数据库插入函数</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span>(<span class="params"><span class="built_in">string</span> sql</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    SqlCommand insert = <span class="keyword">new</span> SqlCommand(sql,sqlCon);</span><br><span class="line">    insert.ExecuteNonQuery();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    sda = new SqlDataAdapter(sql, sqlAddress);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Debug.Log(<span class="string">&quot;插入操作执行了！！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="设置场景异步加载场景条"><a href="#设置场景异步加载场景条" class="headerlink" title="设置场景异步加载场景条"></a>设置场景异步加载场景条</h1><p>小姐姐会跑动进度条会变化</p><p><img src="/../images/image-20221102160631270.png" alt="image-20221102160631270"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">lode_scene</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//加载的场景名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> lodeing_scene;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;加载条&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> Image lode_Image;</span><br><span class="line">    <span class="keyword">public</span> RectTransform sister;</span><br><span class="line">    <span class="comment">//加载进度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> lode_float;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> l = <span class="number">-234f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> r =  <span class="number">285f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> len;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        len = r-l;</span><br><span class="line">        lode_float = <span class="number">0f</span>;</span><br><span class="line">        lodeing_scene = GameDataManager.GetString(<span class="string">&quot;lodeing_scene&quot;</span>);</span><br><span class="line">        Debug.Log(lodeing_scene);</span><br><span class="line">        StartCoroutine(LoadScene());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> AsyncOperation <span class="keyword">async</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> time=<span class="number">2f</span>;</span><br><span class="line">    <span class="function">IEnumerator <span class="title">LoadScene</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">async</span> = SceneManager.LoadSceneAsync(lodeing_scene);</span><br><span class="line">        <span class="keyword">async</span>.allowSceneActivation = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (!<span class="keyword">async</span>.isDone)</span><br><span class="line">        &#123;</span><br><span class="line">            time -= Time.deltaTime;</span><br><span class="line">            lode_float = <span class="keyword">async</span>.progress / <span class="number">0.9f</span>;</span><br><span class="line">            lode_Image.rectTransform.localScale = <span class="keyword">new</span> Vector3(lode_float, <span class="number">1f</span>, <span class="number">1f</span>);</span><br><span class="line">            sister.anchoredPosition = <span class="keyword">new</span> Vector2(l + len * lode_float, sister.anchoredPosition.y);</span><br><span class="line">            Debug.Log(time);</span><br><span class="line">            <span class="keyword">if</span> (time &lt; <span class="number">0f</span>)</span><br><span class="line">                <span class="keyword">async</span>.allowSceneActivation = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="数据库报错"><a href="#数据库报错" class="headerlink" title="数据库报错"></a>数据库报错</h1><p><img src="/../images/image-20221102075015989.png" alt="image-20221102075015989"></p><p>数据库报了这么个错，发现执行总资产更新函数后，数据库才连接成功</p><p>所以报错原因是在还没有连接数据库的时候就进行了查询操作，再看一下连接数据库，</p><p>是在start中进行的，改为在Awake中进行，就不在报错了</p><p><img src="/../images/image-20221102075514608.png" alt="image-20221102075514608"></p><h1 id="玩家数据管理"><a href="#玩家数据管理" class="headerlink" title="玩家数据管理"></a>玩家数据管理</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">palyer_information</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;数据库管理脚本&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> database_manage database_Manage;</span><br><span class="line">    <span class="comment">//玩家账号id</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> player_account_id;</span><br><span class="line">    <span class="comment">//玩家账号id变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; player_account_id_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 玩家账号id属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Player_Account_Id</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">get</span> &#123; <span class="keyword">return</span> player_account_id; &#125;</span><br><span class="line">       <span class="keyword">set</span></span><br><span class="line">       &#123;</span><br><span class="line">            player_account_id = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (player_account_id_action != <span class="literal">null</span>)</span><br><span class="line">                player_account_id_action(player_account_id);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> store_name;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 店铺名称属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Store_Name &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> store_name; &#125; <span class="keyword">set</span> &#123; store_name = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//总资产</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> total_assets;</span><br><span class="line">    <span class="comment">//总资产变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; total_assets_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 总资产属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Total_Assets</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> total_assets; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            total_assets = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (total_assets_action != <span class="literal">null</span>)</span><br><span class="line">                total_assets_action(total_assets);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">//基础魅力</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> basic_charm;</span><br><span class="line">    <span class="comment">//基础魅力变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; basic_charm_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 基础魅力属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Basic_Charm</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> basic_charm; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            basic_charm = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (basic_charm_action != <span class="literal">null</span>)</span><br><span class="line">                basic_charm_action(basic_charm);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实际魅力</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> actual_charm;</span><br><span class="line">    <span class="comment">//实际魅力变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; actual_charm_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 实际魅力属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Actual_Charm</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> actual_charm; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            actual_charm = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (actual_charm_action != <span class="literal">null</span>)</span><br><span class="line">                actual_charm_action(actual_charm);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//魅力提升率</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> charm_ascend_rate;</span><br><span class="line">    <span class="comment">//魅力提升率变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt;charm_ascend_rate_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 魅力提升率属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Charm_Ascend_Rate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> charm_ascend_rate; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            charm_ascend_rate = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (charm_ascend_rate_action != <span class="literal">null</span>)</span><br><span class="line">                charm_ascend_rate_action(charm_ascend_rate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//价格提升率</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> price_ascend_rate;</span><br><span class="line">    <span class="comment">//价格提升率变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; price_ascend_rate_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 价格提升率属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Price_Ascend_Rate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> price_ascend_rate; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            price_ascend_rate = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (price_ascend_rate_action != <span class="literal">null</span>)</span><br><span class="line">                price_ascend_rate_action(price_ascend_rate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大桌椅数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_table_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大桌椅数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Table_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_table_num; &#125; <span class="keyword">set</span> &#123; max_table_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大店员数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_shop_assistant_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大店员数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Shop_Assistant_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_shop_assistant_num; &#125; <span class="keyword">set</span> &#123; max_shop_assistant_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大菜单位</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_dishes_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大菜单位属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Dishes_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_dishes_num; &#125; <span class="keyword">set</span> &#123; max_dishes_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前天数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> now_days;</span><br><span class="line">    <span class="comment">//当前天数变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; now_days_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前天数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Now_Days</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> now_days; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            now_days = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (now_days_action != <span class="literal">null</span>) </span><br><span class="line">                now_days_action(now_days);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        player_account_id_action += player_account_id_palyer_information;</span><br><span class="line">        charm_ascend_rate_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">        &#123;</span><br><span class="line">            Actual_Charm = Basic_Charm * (<span class="number">100</span> + rate) / <span class="number">100</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        basic_charm_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> charm)</span><br><span class="line">        &#123;</span><br><span class="line">            Actual_Charm = charm * (<span class="number">100</span> + Charm_Ascend_Rate) / <span class="number">100</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        total_assets_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> assets)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;总资产&quot;</span>, assets));</span><br><span class="line">         &#125;;</span><br><span class="line">        basic_charm_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> charm)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;总魅力&quot;</span>, charm));</span><br><span class="line">         &#125;;</span><br><span class="line">        charm_ascend_rate_action+= <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;魅力增长率&quot;</span>, rate));</span><br><span class="line">         &#125;;</span><br><span class="line">        price_ascend_rate_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;价格增长率&quot;</span>, rate));</span><br><span class="line">         &#125;;</span><br><span class="line">        now_days_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> days)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;当前天数&quot;</span>, days));</span><br><span class="line">         &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//更新玩家ID</span></span><br><span class="line">        Player_Account_Id = GameDataManager.GetString(<span class="string">&quot;player_id&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    private void Update()</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        if(Input.GetMouseButtonDown(1))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;当前账号id:&#123;Player_Account_Id&#125;,总资产:&#123;Total_Assets&#125;,基础魅力:&#123;Basic_Charm&#125;,实际魅力:&#123;Actual_Charm&#125;&quot;);</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;魅力增长率:&#123;Charm_Ascend_Rate&#125;,价格增长率:&#123;Price_Ascend_Rate&#125;,当前天数&#123;Now_Days&#125;&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        if(Input.GetKeyDown(KeyCode.Space))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Total_Assets += 1000;</span></span><br><span class="line"><span class="comment">            Basic_Charm += 1000;</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;现在的实际魅力为&#123;Actual_Charm&#125;&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        if(Input.GetKeyDown(KeyCode.L))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Charm_Ascend_Rate += 10;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新玩家信息拼接sql语句用</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span>更新的玩家信息类型<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type_value&quot;&gt;</span>更新数据的值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">palyer_information_update_sql_string</span>(<span class="params"><span class="built_in">string</span> type, <span class="built_in">int</span> type_value</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(string.Format(&quot;update 玩家信息表 set &#123;0&#125; = &#123;1&#125; where 账号 = &#x27;&#123;2&#125;&#x27;; &quot;, type, type_value, player_account_id));</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">&quot;update 玩家信息表 set &#123;0&#125; = &#123;1&#125; where 账号 = &#x27;&#123;2&#125;&#x27;; &quot;</span>, type, type_value, player_account_id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新玩家ID时，玩家信息脚本做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新有关店铺的数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;player_account_id&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">player_account_id_palyer_information</span>(<span class="params"><span class="built_in">string</span> player_account_id</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行玩家ID更新函数了！！&quot;</span>);</span><br><span class="line">        DataSet dataSet = database_Manage.account_information(player_account_id);</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行店铺更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//店铺名称</span></span><br><span class="line">        Store_Name = dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">2</span>].ToString();</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行总资产更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//总资产</span></span><br><span class="line">        Total_Assets = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">3</span>].ToString());</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行基础魅力更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//基础魅力</span></span><br><span class="line">        Basic_Charm = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">4</span>].ToString());</span><br><span class="line">        <span class="comment">//最大桌位数</span></span><br><span class="line">        Max_Table_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">5</span>].ToString());</span><br><span class="line">        <span class="comment">//最大店员数</span></span><br><span class="line">        Max_Shop_Assistant_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">6</span>].ToString());</span><br><span class="line">        <span class="comment">//最大菜单位</span></span><br><span class="line">        Max_Dishes_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">7</span>].ToString());</span><br><span class="line">        <span class="comment">//魅力增长率</span></span><br><span class="line">        Charm_Ascend_Rate = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">8</span>].ToString());</span><br><span class="line">        <span class="comment">//价格增长率</span></span><br><span class="line">        Price_Ascend_Rate = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">9</span>].ToString());</span><br><span class="line">        <span class="comment">//当前天数</span></span><br><span class="line">        Now_Days = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">10</span>].ToString());</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="玩家登录注册"><a href="#玩家登录注册" class="headerlink" title="玩家登录注册"></a>玩家登录注册</h1><h2 id="登录主管理"><a href="#登录主管理" class="headerlink" title="登录主管理"></a>登录主管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">loginmain</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_return_button</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SceneManager.LoadScene(<span class="string">&quot;beginScene&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;登录界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject login_panel;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;注册界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject enroll_panel;</span><br><span class="line">    <span class="comment">// 当前选择的界面</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> current_panel;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Current_panel</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> current_panel; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//0表示登录界面</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">value</span>==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                login_panel.SetActive(<span class="literal">true</span>);</span><br><span class="line">                enroll_panel.SetActive(<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//否则 1 表示注册界面</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                enroll_panel.SetActive(<span class="literal">true</span>);</span><br><span class="line">                login_panel.SetActive(<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 展示登录界面按钮点击事件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_login_panel</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 展示注册页面的按钮点击事件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_enroll_panel</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注册管理"><a href="#注册管理" class="headerlink" title="注册管理"></a>注册管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">enerollmanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;数据管理类&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> database_manage datamanage;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;账号text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField account_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;密码text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField password_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;确认密码text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField repassword_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;报错界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject waring_panel;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject shop_name_plane;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;注册成功界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject enroll_succeed_plane;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shop_name_plane.GetComponent&lt;shopnamemanage&gt;().shopname_active += shop_name_action_enerollmanage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        enable_init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">enable_init</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        account_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        password_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        repassword_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        init_waring_plane();</span><br><span class="line">        shop_name_plane.SetActive(<span class="literal">false</span>);</span><br><span class="line">        enroll_succeed_plane.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> account;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> password;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> repassword;</span><br><span class="line">    [<span class="meta">HideInInspector</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> shop_name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_enerollbutton</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        init_waring_plane();</span><br><span class="line">        account = account_text.text;</span><br><span class="line">        password = password_text.text;</span><br><span class="line">        repassword = repassword_text.text;</span><br><span class="line">        Debug.Log(<span class="string">&quot;账号&quot;</span> + account + <span class="string">&quot;  密码&quot;</span> + password+<span class="string">&quot;  确认密码&quot;</span>+repassword);</span><br><span class="line">        <span class="keyword">if</span> (account == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">0</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (account.Length != <span class="number">5</span>) waring_panel.transform.GetChild(<span class="number">5</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (datamanage.account_is_exist(account)) waring_panel.transform.GetChild(<span class="number">3</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (password == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">1</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (repassword == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">2</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (password != repassword) waring_panel.transform.GetChild(<span class="number">4</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> shop_name_plane.SetActive(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 将警告界面的text都设为不可见</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init_waring_plane</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; waring_panel.transform.childCount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            waring_panel.transform.GetChild(i).gameObject.SetActive(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shop_name_action_enerollmanage</span>(<span class="params"><span class="built_in">string</span> shopname</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        shop_name = shopname;</span><br><span class="line">        enable_init();</span><br><span class="line">        <span class="built_in">string</span> sql = <span class="built_in">string</span>.Format(<span class="string">&quot;insert into 玩家信息表 values(&#x27;&#123;0&#125;&#x27;,&#x27;&#123;1&#125;&#x27;,&#x27;&#123;2&#125;&#x27;,1000,100,9,9,9,0,0,0);&quot;</span>, account, password, shopname);</span><br><span class="line">        Debug.Log(sql);</span><br><span class="line">        datamanage.insert(sql);</span><br><span class="line">        enroll_succeed_plane.GetComponent&lt;enrollsucceedmanage&gt;().set_shopname_and_account(account,shop_name);</span><br><span class="line">        Debug.Log(<span class="string">&quot;账号&quot;</span> + account + <span class="string">&quot;  密码&quot;</span> + password + <span class="string">&quot;  确认密码&quot;</span> + repassword+<span class="string">&quot;  店铺名称  &quot;</span>+shop_name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注册成功管理"><a href="#注册成功管理" class="headerlink" title="注册成功管理"></a>注册成功管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">enrollsucceedmanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;账号名称框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField account_name_field;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shop_name_field;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 设置注册成功界面</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;account_name&quot;&gt;</span>账号<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;shop_name&quot;&gt;</span>店铺名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set_shopname_and_account</span>(<span class="params"><span class="built_in">string</span> account_name,<span class="built_in">string</span> shop_name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">       </span><br><span class="line">        account_name_field.text = account_name;</span><br><span class="line">        shop_name_field.text = shop_name;</span><br><span class="line">        gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        gameObject.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="设置店铺名称"><a href="#设置店铺名称" class="headerlink" title="设置店铺名称"></a>设置店铺名称</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">shopnamemanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称输入框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shopname_field;</span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> shopname;</span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; shopname_active;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;请输入店铺名的text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject please_shop_name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Shopname</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> shopname; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            shopname = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (shopname_active != <span class="literal">null</span>) shopname_active(shopname);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shopname_field.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 点击店铺名称确认按钮</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_shop_name_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (shopname_field.text == <span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">            Shopname = shopname_field.text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="登录管理"><a href="#登录管理" class="headerlink" title="登录管理"></a>登录管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">shopnamemanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称输入框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shopname_field;</span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> shopname;</span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; shopname_active;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;请输入店铺名的text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject please_shop_name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Shopname</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> shopname; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            shopname = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (shopname_active != <span class="literal">null</span>) shopname_active(shopname);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shopname_field.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 点击店铺名称确认按钮</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_shop_name_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (shopname_field.text == <span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">            Shopname = shopname_field.text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;数据库插入&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设置场景异步加载场景条&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;玩家数据管理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;玩家登录注册写完了，可以进入游戏场景了 好耶&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity模板</title>
    <link href="http://example.com/2022/10/31/unity%E6%A8%A1%E6%9D%BF/"/>
    <id>http://example.com/2022/10/31/unity%E6%A8%A1%E6%9D%BF/</id>
    <published>2022-10-31T10:29:23.000Z</published>
    <updated>2022-11-02T15:04:05.346Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">本地存储管理类</span><br><span class="line">退出游戏函数</span><br><span class="line">随机音乐脚本</span><br><span class="line">设置发布屏幕大小</span><br><span class="line">时钟脚本</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="本地存储管理类"><a href="#本地存储管理类" class="headerlink" title="本地存储管理类"></a>本地存储管理类</h1><p><code>GameDataManage</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 本地数据管理类 </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameDataManager</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Bool</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetBool</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">bool</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetString(key + <span class="string">&quot;Bool&quot;</span>, <span class="keyword">value</span>.ToString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Bool</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">GetBool</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">bool</span>.Parse(PlayerPrefs.GetString(key + <span class="string">&quot;Bool&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存String</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetString</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">string</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetString(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取String</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetString</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetString(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Float</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetFloat</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">float</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Float</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">GetFloat</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetFloat(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Int</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetInt</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetInt(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Int</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">GetInt</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetInt(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存IntArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetIntArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">int</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetInt(key + <span class="string">&quot;IntArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;IntArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取IntArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span>[] <span class="title">GetIntArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] intArr = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            intArr = <span class="keyword">new</span> <span class="built_in">int</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; intArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                intArr[i] = PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存FloatArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetFloatArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">float</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetFloat(key + <span class="string">&quot;FloatArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;FloatArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取FloatArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span>[] <span class="title">GetFloatArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span>[] floatArr = <span class="keyword">new</span> <span class="built_in">float</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;FloatArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            floatArr = <span class="keyword">new</span> <span class="built_in">float</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;FloatArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; floatArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                floatArr[i] = PlayerPrefs.GetFloat(key + <span class="string">&quot;FloatArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> floatArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存StringArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetStringArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">string</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetString(key + <span class="string">&quot;StringArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;StringArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取StringArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span>[] <span class="title">GetStringArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span>[] stringArr = <span class="keyword">new</span> <span class="built_in">string</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;StringArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            stringArr = <span class="keyword">new</span> <span class="built_in">string</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;StringArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; stringArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                stringArr[i] = PlayerPrefs.GetString(key + <span class="string">&quot;StringArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stringArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Vector2</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetVector2</span>(<span class="params"><span class="built_in">string</span> key, Vector2 <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector2X&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector2Y&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Vector2</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Vector2 <span class="title">GetVector2</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Vector2 Vector2;</span><br><span class="line">        Vector2.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector2X&quot;</span>);</span><br><span class="line">        Vector2.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector2Y&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Vector2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Vector3</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetVector3</span>(<span class="params"><span class="built_in">string</span> key, Vector3 <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3X&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3Y&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3Z&quot;</span>, <span class="keyword">value</span>.z);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Vector3</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="title">GetVector3</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Vector3 vector3;</span><br><span class="line">        vector3.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3X&quot;</span>);</span><br><span class="line">        vector3.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3Y&quot;</span>);</span><br><span class="line">        vector3.z = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3Z&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> vector3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Quaternion</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetQuaternion</span>(<span class="params"><span class="built_in">string</span> key, Quaternion <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionX&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionY&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionZ&quot;</span>, <span class="keyword">value</span>.z);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionW&quot;</span>, <span class="keyword">value</span>.w);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Quaternion</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Quaternion <span class="title">GetQuaternion</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Quaternion quaternion;</span><br><span class="line">        quaternion.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionX&quot;</span>);</span><br><span class="line">        quaternion.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionY&quot;</span>);</span><br><span class="line">        quaternion.z = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionZ&quot;</span>);</span><br><span class="line">        quaternion.w = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionW&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> quaternion;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="退出游戏函数"><a href="#退出游戏函数" class="headerlink" title="退出游戏函数"></a>退出游戏函数</h1><p><code>on_chick_exitgame()</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">on_chick_exitgame</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> UNITY_EDITOR</span></span><br><span class="line">                UnityEditor.EditorApplication.isPlaying = <span class="literal">false</span>;</span><br><span class="line">        <span class="meta">#<span class="keyword">else</span> </span></span><br><span class="line">        Application.Quit();</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="随机音乐脚本"><a href="#随机音乐脚本" class="headerlink" title="随机音乐脚本"></a>随机音乐脚本</h1><p><code>randAudio</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">randAudio</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;所有的背景音乐&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> AudioClip[] audioClips;</span><br><span class="line">    <span class="keyword">public</span> AudioSource audioSource;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            i = Random.Range(<span class="number">0</span>,audioClips.Length);</span><br><span class="line">        &#125; <span class="keyword">while</span> (i == GameDataManager.GetInt(<span class="string">&quot;Previous_back_music&quot;</span>));</span><br><span class="line">        GameDataManager.SetInt(<span class="string">&quot;Previous_back_music&quot;</span>, i);</span><br><span class="line">        audioSource.clip = audioClips[i];</span><br><span class="line"></span><br><span class="line">        audioSource.Play();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="设置发布屏幕大小"><a href="#设置发布屏幕大小" class="headerlink" title="设置发布屏幕大小"></a>设置发布屏幕大小</h1><p><img src="/../images/image-20221102204249929.png" alt="image-20221102204249929"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">setScreen</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;屏幕大小比例&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> x = <span class="number">0.7f</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetScreen</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Screen.SetResolution(<span class="built_in">int</span>.Parse((<span class="number">1920</span>*x).ToString()),<span class="built_in">int</span>.Parse((<span class="number">1080</span> * x).ToString()), <span class="literal">true</span>);</span><br><span class="line">        Screen.fullScreen = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SetScreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="时钟脚本"><a href="#时钟脚本" class="headerlink" title="时钟脚本"></a>时钟脚本</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Clock</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;小时&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> hour = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分钟&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> minutes = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> seconds = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> realTime=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;是否显示秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> pointerSeconds_is_action;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerHours;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerMinutes;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerSeconds;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时间速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> clockSpeed = <span class="number">1.0f</span>;     <span class="comment">// 1.0f = realtime, &lt; 1.0f = slower, &gt; 1.0f = faster</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前时间</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> msecs=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        pointerSeconds.SetActive(pointerSeconds_is_action);</span><br><span class="line">    <span class="comment">//-- set real time</span></span><br><span class="line">    <span class="keyword">if</span> (realTime)</span><br><span class="line">    &#123;</span><br><span class="line">    hour=System.DateTime.Now.Hour;</span><br><span class="line">    minutes=System.DateTime.Now.Minute;</span><br><span class="line">    seconds=System.DateTime.Now.Second;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//-- calculate time</span></span><br><span class="line">        msecs += Time.deltaTime * clockSpeed;</span><br><span class="line">        <span class="keyword">if</span>(msecs &gt;= <span class="number">1.0f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = (<span class="built_in">int</span>)msecs;</span><br><span class="line">            seconds += x;</span><br><span class="line">            msecs -= x ;</span><br><span class="line">            <span class="keyword">if</span>(seconds &gt;= <span class="number">60</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                x = seconds / <span class="number">60</span>;</span><br><span class="line">                seconds %= <span class="number">60</span>;</span><br><span class="line">                minutes += x;</span><br><span class="line">                <span class="keyword">if</span>(minutes &gt; <span class="number">60</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    x = minutes / <span class="number">60</span>;</span><br><span class="line">                    minutes %= <span class="number">60</span>;</span><br><span class="line">                    hour += x;</span><br><span class="line">                    <span class="keyword">if</span> (hour &gt;= <span class="number">24</span>)</span><br><span class="line">                       hour %= <span class="number">24</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span> rotationSeconds = (<span class="number">360.0f</span> / <span class="number">60.0f</span>)  * seconds;</span><br><span class="line">        <span class="built_in">float</span> rotationMinutes = (<span class="number">360.0f</span> / <span class="number">60.0f</span>) * minutes + (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>) * seconds);</span><br><span class="line">        <span class="built_in">float</span> rotationHours   = ((<span class="number">360.0f</span> / <span class="number">12.0f</span>) * hour) + ((<span class="number">360.0f</span> / (<span class="number">60.0f</span> * <span class="number">12.0f</span>)) * minutes)+ (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>*<span class="number">60f</span>) * seconds);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pointerSeconds_is_action)</span><br><span class="line">        pointerSeconds.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationSeconds);</span><br><span class="line">        pointerMinutes.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationMinutes);</span><br><span class="line">        pointerHours.transform.localEulerAngles   = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationHours);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;本地存储管理类&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;退出游戏函数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;随机音乐脚本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设置发布屏幕大小&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;时钟脚本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="模板" scheme="http://example.com/categories/%E6%A8%A1%E6%9D%BF/"/>
    
    
    <category term="unity" scheme="http://example.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>unity10-31</title>
    <link href="http://example.com/2022/10/31/unity10-31/"/>
    <id>http://example.com/2022/10/31/unity10-31/</id>
    <published>2022-10-31T00:11:46.000Z</published>
    <updated>2022-10-31T14:41:17.977Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">优化初始界面小人动作，移动方向更贴合背景图片，并限制移动边界，到达边界自动转向</span><br><span class="line">登录界面的UI</span><br><span class="line">验证数据库没有查到结果怎么写</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="优化人物动作"><a href="#优化人物动作" class="headerlink" title="优化人物动作"></a>优化人物动作</h1><p><img src="/../images/image-20221031223924104.png" alt="image-20221031223924104"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">actionAI</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//角色动作管理器</span></span><br><span class="line">    <span class="keyword">private</span> Animator animator;</span><br><span class="line">    <span class="comment">//角色动作枚举</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> animation_action_enem</span><br><span class="line">    &#123;</span><br><span class="line">        Front,Back,Left,Right,Notmove</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//当前角色移动的方向</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 move_vector;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;角色移动速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> v;</span><br><span class="line">    <span class="comment">//当前角色状态</span></span><br><span class="line">    <span class="keyword">private</span> animation_action_enem animation_Action;</span><br><span class="line">    <span class="keyword">public</span> animation_action_enem Animation_Action</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> animation_Action; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            move_vector = Vector2.zero;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">value</span>==animation_action_enem.Notmove)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">switch</span> (animation_Action)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                        animator.Play(<span class="string">&quot;前&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                        animator.Play(<span class="string">&quot;后&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                        animator.Play(<span class="string">&quot;左&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                        animator.Play(<span class="string">&quot;右&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="literal">default</span>:</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                animation_Action = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                animation_Action = <span class="keyword">value</span>;</span><br><span class="line">                <span class="keyword">switch</span> (animation_Action)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                        animator.Play(<span class="string">&quot;前走&quot;</span>);</span><br><span class="line">                        move_vector = <span class="keyword">new</span> Vector2(<span class="number">-1</span>,<span class="number">-0.5863309f</span>).normalized;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                        animator.Play(<span class="string">&quot;后走&quot;</span>);</span><br><span class="line">                        move_vector = -<span class="keyword">new</span> Vector2(<span class="number">-1</span>, <span class="number">-0.5863309f</span>).normalized;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                        animator.Play(<span class="string">&quot;左走&quot;</span>);</span><br><span class="line">                        move_vector = <span class="keyword">new</span> Vector2(<span class="number">-1</span>, <span class="number">0.4139466f</span>).normalized;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                        animator.Play(<span class="string">&quot;右走&quot;</span>);</span><br><span class="line">                        move_vector = -<span class="keyword">new</span> Vector2(<span class="number">-1</span>, <span class="number">0.4139466f</span>).normalized;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="literal">default</span>:</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//保持当前状态的时间</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> time;</span><br><span class="line">    <span class="comment">//更新角色状态</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Animation_Action_updata</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        time -= Time.deltaTime;</span><br><span class="line">        <span class="keyword">if</span>(time&lt;=<span class="number">0f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            time = Random.Range(<span class="number">2f</span>, <span class="number">5f</span>);</span><br><span class="line">            <span class="built_in">int</span> id = Random.Range(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="keyword">switch</span> (Animation_Action)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Notmove:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="literal">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;左边最小值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> leftmin;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;右边最大值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rightmax;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;向前最小值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> frontmin;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;向后最大值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> backmax;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算两点直线的k值和b值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">twopoint</span>(<span class="params"><span class="built_in">float</span> x1,<span class="built_in">float</span> y1,<span class="built_in">float</span> x2,<span class="built_in">float</span> y2,<span class="keyword">out</span> <span class="built_in">float</span> k,<span class="keyword">out</span> <span class="built_in">float</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        b = (y1 * x2 - y2 * x1) / (x2 - x1);</span><br><span class="line">        k = (y1 - b) / x1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断在直线的位置</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>返回true 说明在左边，否则在右边<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">judg</span>(<span class="params"><span class="built_in">float</span> x,<span class="built_in">float</span> y,<span class="built_in">float</span> k,<span class="built_in">float</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ( y - k * x - b  &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;不让过！！&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//上方直线方程为y=kx+b;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> k = <span class="number">-0.4485842f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> b = <span class="number">-0.4285544f</span>;</span><br><span class="line">    <span class="comment">//右边直线方程为y=k1x+b1;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> k1 = <span class="number">-0.6358023f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> b1 = <span class="number">-2.125926f</span>;</span><br><span class="line">    <span class="comment">//按照当前角色移动方式进行角色移动</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">move</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">float</span> x = transform.position.x + move_vector.x * Time.deltaTime * v;</span><br><span class="line">        <span class="built_in">float</span> y = transform.position.y + move_vector.y * Time.deltaTime * v;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (x &lt; leftmin)</span><br><span class="line">        &#123;</span><br><span class="line">            Animation_Action = animation_action_enem.Right;</span><br><span class="line">            <span class="comment">//Debug.Log(&quot;撞左边了！&quot;);</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (judg(x, y, k1, b1)||( x &gt; rightmax))</span><br><span class="line">        &#123;</span><br><span class="line">            Animation_Action = animation_action_enem.Left;</span><br><span class="line">            <span class="comment">//Debug.Log(&quot;撞右边了！&quot;);</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!judg(x, y, k, b)||y &gt; backmax)</span><br><span class="line">        &#123;</span><br><span class="line">            Animation_Action = animation_action_enem.Front;</span><br><span class="line">            <span class="comment">//Debug.Log(&quot;撞后边了！&quot;);</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (y &lt; frontmin)</span><br><span class="line">        &#123;</span><br><span class="line">            Animation_Action = animation_action_enem.Back;</span><br><span class="line">            <span class="comment">//Debug.Log(&quot;撞前边了！&quot;);</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        transform.position += move_vector * Time.deltaTime * v;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        time = <span class="number">2f</span>;</span><br><span class="line">        twopoint(<span class="number">3.34f</span>, <span class="number">-0.74f</span>,<span class="number">-3.4f</span>,<span class="number">2.05f</span>,<span class="keyword">out</span> k,<span class="keyword">out</span> b);</span><br><span class="line">        twopoint(<span class="number">0.78f</span>, <span class="number">-1.63f</span>,<span class="number">2.4f</span>,<span class="number">-0.6f</span>,<span class="keyword">out</span> k1,<span class="keyword">out</span> b1);</span><br><span class="line">        Debug.Log(<span class="string">&quot;k:&quot;</span> + k1 + <span class="string">&quot;  b:&quot;</span> + b1);</span><br><span class="line">        </span><br><span class="line">        animator = transform.GetComponent&lt;Animator&gt;();</span><br><span class="line">        Animation_Action = animation_action_enem.Left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Animation_Action_updata();</span><br><span class="line">        move();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="登录界面UI"><a href="#登录界面UI" class="headerlink" title="登录界面UI"></a>登录界面UI</h1><p><img src="/../images/image-20221031223940159.png" alt="image-20221031223940159"></p><p><img src="/../images/image-20221031223951414.png" alt="image-20221031223951414"></p><h1 id="验证数据库没有查到结果怎么写"><a href="#验证数据库没有查到结果怎么写" class="headerlink" title="验证数据库没有查到结果怎么写"></a>验证数据库没有查到结果怎么写</h1><p>验证代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DataSet dataSet = datamanage.<span class="built_in">query</span></span><br><span class="line">            (<span class="string">&quot;select * &quot;</span> +</span><br><span class="line">            <span class="string">&quot;from 菜单表 a &quot;</span> +</span><br><span class="line">            <span class="string">&quot;where a.菜品名称=&#x27;daf&#x27;&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (dataSet == null) Debug.<span class="built_in">Log</span>(<span class="string">&quot;1 没有查到结果！！&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(dataSet.Tables.Count==<span class="number">0</span>)Debug.<span class="built_in">Log</span>(<span class="string">&quot;2 没有查到结果！！&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(dataSet.Tables[<span class="number">0</span>].Rows.Count==<span class="number">0</span>)Debug.<span class="built_in">Log</span>(<span class="string">&quot;3 没有查到结果！！&quot;</span>);</span><br></pre></td></tr></table></figure><p>结果是第三种输出了<code>3 没有查到结果！！</code>，所有第三种可以判空</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;优化初始界面小人动作，移动方向更贴合背景图片，并限制移动边界，到达边界自动转向&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;登录界面的UI&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;验证数据库没有查到结果怎么写&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity10-30</title>
    <link href="http://example.com/2022/10/30/unity10-30/"/>
    <id>http://example.com/2022/10/30/unity10-30/</id>
    <published>2022-10-30T00:36:51.000Z</published>
    <updated>2022-10-30T14:53:23.907Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">自适应组件 Content Size Fitter</span><br><span class="line"></span><br><span class="line">文档整理思路写的差不多了感觉后边的大部分重复，先写着这些功能，遇到问题再写</span><br><span class="line"></span><br><span class="line">学习解包整出游戏所用的素材，再去资源商店找找素材，明天就可以开工了</span><br><span class="line"></span><br><span class="line">写了个角色自动随机移动的脚本</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="玩家"><a href="#玩家" class="headerlink" title="玩家"></a>玩家</h1><h2 id="玩家信息类"><a href="#玩家信息类" class="headerlink" title="玩家信息类"></a>玩家信息类</h2><p><img src="/../images/e96091570dcd80e31ddb09633ae71a1.jpg" alt="e96091570dcd80e31ddb09633ae71a1"></p><p><img src="/../images/2fab2c587d81a7526e28d5b2c77cb65.jpg" alt="2fab2c587d81a7526e28d5b2c77cb65"></p><h2 id="玩家注册"><a href="#玩家注册" class="headerlink" title="玩家注册"></a>玩家注册</h2><p><img src="/../images/cb11c1d396a33c3225535c02b5c654c.jpg" alt="cb11c1d396a33c3225535c02b5c654c"></p><h1 id="店员"><a href="#店员" class="headerlink" title="店员"></a>店员</h1><h2 id="店员类"><a href="#店员类" class="headerlink" title="店员类"></a>店员类</h2><p><img src="/../images/26cd5e301741d94499af95fa9474af3.jpg" alt="26cd5e301741d94499af95fa9474af3"></p><h2 id="店员玩家类"><a href="#店员玩家类" class="headerlink" title="店员玩家类"></a>店员玩家类</h2><p><img src="/../images/16f463c6b98e5a8b84335fd7ec56ed2.jpg" alt="16f463c6b98e5a8b84335fd7ec56ed2"></p><h2 id="店员数据"><a href="#店员数据" class="headerlink" title="店员数据"></a>店员数据</h2><p><img src="/../images/900334cb279340c994a92c6d96f6d2e-16671202709481.jpg" alt="900334cb279340c994a92c6d96f6d2e"></p><h2 id="设置店员界面-上任店员界面"><a href="#设置店员界面-上任店员界面" class="headerlink" title="设置店员界面 上任店员界面"></a>设置店员界面 上任店员界面</h2><p><img src="/../images/5a1753b0b748a322d24f7ebbdb5082d.jpg" alt="5a1753b0b748a322d24f7ebbdb5082d"></p><h2 id="上任店员块"><a href="#上任店员块" class="headerlink" title="上任店员块"></a>上任店员块</h2><h2 id=""><a href="#" class="headerlink" title=""></a><img src="/../images/782f1b79bcc2aab7396d012fc546cbc.jpg" alt="782f1b79bcc2aab7396d012fc546cbc"></h2><h2 id="查看属性界面"><a href="#查看属性界面" class="headerlink" title="查看属性界面"></a>查看属性界面</h2><p><img src="/../images/6b6302c105a5ab6dae691295258e5e9.jpg" alt="6b6302c105a5ab6dae691295258e5e9"></p><h2 id="未上任店员界面"><a href="#未上任店员界面" class="headerlink" title="未上任店员界面"></a>未上任店员界面</h2><p><img src="/../images/395963f14ac7f91042e24a4964ab022.jpg" alt="395963f14ac7f91042e24a4964ab022"></p><h2 id="未上任店员块"><a href="#未上任店员块" class="headerlink" title="未上任店员块"></a>未上任店员块</h2><p><img src="/../images/21c8c04c1c34ed17520b48b2b2065b6.jpg" alt="21c8c04c1c34ed17520b48b2b2065b6"></p><h2 id="雇佣店员界面"><a href="#雇佣店员界面" class="headerlink" title="雇佣店员界面"></a>雇佣店员界面</h2><p><img src="/../images/1039ff5ab70cc091204be03262a55c9.jpg" alt="1039ff5ab70cc091204be03262a55c9"></p><h2 id="雇佣店员块"><a href="#雇佣店员块" class="headerlink" title="雇佣店员块"></a>雇佣店员块</h2><p><img src="/../images/36baaaae17d8718619721c12062ceb4.jpg" alt="36baaaae17d8718619721c12062ceb4"></p><h1 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h1><h2 id="菜单类"><a href="#菜单类" class="headerlink" title="菜单类"></a>菜单类</h2><p><img src="/../images/0463301d46c829ed4876a735b56677e.jpg" alt="0463301d46c829ed4876a735b56677e"></p><h2 id="菜单玩家类"><a href="#菜单玩家类" class="headerlink" title="菜单玩家类"></a>菜单玩家类</h2><p><img src="/../images/c8596eb70ca2df75d643ad31793237f.jpg" alt="c8596eb70ca2df75d643ad31793237f"></p><h2 id="菜单数据"><a href="#菜单数据" class="headerlink" title="菜单数据"></a>菜单数据</h2><p><img src="/../images/b7552d6c0a063a984f9c17caab46dea.jpg" alt="b7552d6c0a063a984f9c17caab46dea"></p><h2 id="更新菜单"><a href="#更新菜单" class="headerlink" title="更新菜单"></a>更新菜单</h2><p><img src="/../images/b24d414466940ff2542e42ae797a440.jpg" alt="b24d414466940ff2542e42ae797a440"></p><h2 id="店内菜单块类"><a href="#店内菜单块类" class="headerlink" title="店内菜单块类"></a>店内菜单块类</h2><p><img src="/../images/2503b390436e3c0a48fd8f18182333a.jpg" alt="2503b390436e3c0a48fd8f18182333a"></p><h2 id="点击菜单显示UI-菜单列表选择管理"><a href="#点击菜单显示UI-菜单列表选择管理" class="headerlink" title="点击菜单显示UI  菜单列表选择管理"></a>点击菜单显示UI  菜单列表选择管理</h2><p><img src="/../images/29043f1e3bfe2b28173aca0eb701ce5.jpg" alt="29043f1e3bfe2b28173aca0eb701ce5"></p><p><img src="/../images/49369517294bb929296ccaf0b936751.jpg" alt="49369517294bb929296ccaf0b936751"></p><h2 id="选择菜单菜单块"><a href="#选择菜单菜单块" class="headerlink" title="选择菜单菜单块"></a>选择菜单菜单块</h2><p><img src="/../images/974d66a3163e7a024fb606ed791a105.jpg" alt="974d66a3163e7a024fb606ed791a105"></p><h2 id="菜品开发界面"><a href="#菜品开发界面" class="headerlink" title="菜品开发界面"></a>菜品开发界面</h2><p><img src="/../images/552156f196908cf970eca4432675967.jpg" alt="552156f196908cf970eca4432675967"></p><h2 id="菜品开发管理类"><a href="#菜品开发管理类" class="headerlink" title="菜品开发管理类"></a>菜品开发管理类</h2><p><img src="/../images/b08f8bbe2dcf400ee1a87ca2543c005.jpg" alt="b08f8bbe2dcf400ee1a87ca2543c005"></p><h2 id="未开发菜单块"><a href="#未开发菜单块" class="headerlink" title="未开发菜单块"></a>未开发菜单块</h2><p><img src="/../images/2bfa18276292cf26c05c6367621a008.jpg" alt="2bfa18276292cf26c05c6367621a008"></p><h1 id="食材"><a href="#食材" class="headerlink" title="食材"></a>食材</h1><h2 id="食材类"><a href="#食材类" class="headerlink" title="食材类"></a>食材类</h2><p><img src="/../images/1c9a9db7212a605e9a8850d242679fe.jpg" alt="1c9a9db7212a605e9a8850d242679fe"></p><h2 id="食材玩家类"><a href="#食材玩家类" class="headerlink" title="食材玩家类"></a>食材玩家类</h2><p><img src="/../images/f886150c55f23f46a05311f6e0b2a50.jpg" alt="f886150c55f23f46a05311f6e0b2a50"></p><h2 id="食材数据"><a href="#食材数据" class="headerlink" title="食材数据"></a>食材数据</h2><p><img src="/../images/1ea67d2af64ef68a12b44182952231d.jpg" alt="1ea67d2af64ef68a12b44182952231d"></p><h2 id="背包UI"><a href="#背包UI" class="headerlink" title="背包UI"></a>背包UI</h2><p><img src="/../images/d8a4d93f0558bf23fb7579289a896b1.jpg" alt="d8a4d93f0558bf23fb7579289a896b1"></p><h2 id="背包管理类"><a href="#背包管理类" class="headerlink" title="背包管理类"></a>背包管理类</h2><p><img src="/../images/dc555e6d0e167cb5141791887fcca0c.jpg" alt="dc555e6d0e167cb5141791887fcca0c"></p><h2 id="背包块"><a href="#背包块" class="headerlink" title="背包块"></a>背包块</h2><p><img src="/../images/529a0a4f66758adc87b95aebcbf2f44.jpg" alt="529a0a4f66758adc87b95aebcbf2f44"></p><h2 id="显示菜单页面"><a href="#显示菜单页面" class="headerlink" title="显示菜单页面"></a>显示菜单页面</h2><p><img src="/../images/647bcbb209ef9ce8734218e2d00cf1d.jpg" alt="647bcbb209ef9ce8734218e2d00cf1d"></p><h2 id="菜品强化页面"><a href="#菜品强化页面" class="headerlink" title="菜品强化页面"></a>菜品强化页面</h2><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="/../images/eda8affbba85b33b612901f8c6e943a.jpg" alt="eda8affbba85b33b612901f8c6e943a"></h2><h1 id="自动随机移动脚本"><a href="#自动随机移动脚本" class="headerlink" title="自动随机移动脚本"></a>自动随机移动脚本</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">actionAI</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//角色动作管理器</span></span><br><span class="line">    <span class="keyword">private</span> Animator animator;</span><br><span class="line">    <span class="comment">//角色动作枚举</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> animation_action_enem</span><br><span class="line">    &#123;</span><br><span class="line">        Front,Back,Left,Right,Notmove</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//当前角色移动的方向</span></span><br><span class="line">    <span class="keyword">private</span> Vector3 move_vector;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;角色移动速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> v;</span><br><span class="line">    <span class="comment">//当前角色状态</span></span><br><span class="line">    <span class="keyword">private</span> animation_action_enem animation_Action;</span><br><span class="line">    <span class="keyword">public</span> animation_action_enem Animation_Action</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> animation_Action; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            move_vector = Vector2.zero;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">value</span>==animation_action_enem.Notmove)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">switch</span> (animation_Action)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                        animator.Play(<span class="string">&quot;前&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                        animator.Play(<span class="string">&quot;后&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                        animator.Play(<span class="string">&quot;左&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                        animator.Play(<span class="string">&quot;右&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="literal">default</span>:</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                animation_Action = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                animation_Action = <span class="keyword">value</span>;</span><br><span class="line">                <span class="keyword">switch</span> (animation_Action)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                        animator.Play(<span class="string">&quot;前走&quot;</span>);</span><br><span class="line">                        move_vector = Vector2.down;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                        animator.Play(<span class="string">&quot;后走&quot;</span>);</span><br><span class="line">                        move_vector = Vector2.up;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                        animator.Play(<span class="string">&quot;左走&quot;</span>);</span><br><span class="line">                        move_vector = Vector2.left;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                        animator.Play(<span class="string">&quot;右走&quot;</span>);</span><br><span class="line">                        move_vector = Vector2.right;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="literal">default</span>:</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//保持当前状态的时间</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> time;</span><br><span class="line">    <span class="comment">//更新角色状态</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Animation_Action_updata</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        time -= Time.deltaTime;</span><br><span class="line">        <span class="keyword">if</span>(time&lt;=<span class="number">0f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            time = Random.Range(<span class="number">2f</span>, <span class="number">5f</span>);</span><br><span class="line">            <span class="built_in">int</span> id = Random.Range(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="keyword">switch</span> (Animation_Action)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Front:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Back:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Left:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Right:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Notmove;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> animation_action_enem.Notmove:</span><br><span class="line">                    <span class="keyword">switch</span> (id)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Front;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Back;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Left;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            Animation_Action = animation_action_enem.Right;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="literal">default</span>:</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="literal">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;左边最小值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> leftmin;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;右边最大值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rightmax;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;向前最小值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> frontmin;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;向后最大值&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> backmax;</span><br><span class="line">    <span class="comment">//按照当前角色移动方式进行角色移动</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">move</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (transform.position.x + move_vector.x * Time.deltaTime * v &lt; leftmin) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (transform.position.x + move_vector.x * Time.deltaTime * v &gt; rightmax) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (transform.position.y + move_vector.y * Time.deltaTime * v &gt; backmax) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (transform.position.y + move_vector.y * Time.deltaTime * v &lt; frontmin) <span class="keyword">return</span>;</span><br><span class="line">        transform.position += move_vector * Time.deltaTime * v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator = transform.GetComponent&lt;Animator&gt;();</span><br><span class="line">        Animation_Action = animation_action_enem.Left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Animation_Action_updata();</span><br><span class="line">        move();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;自适应组件 Content Size Fitter&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;文档整理思路写的差不多了感觉后边的大部分重复，先写着这些功能，遇到问题再写&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;学习解包整出游戏所用的素材，再去资源商店找找素材，明天就可以开工了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;写了个角色自动随机移动的脚本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity10-29</title>
    <link href="http://example.com/2022/10/29/unity10-29/"/>
    <id>http://example.com/2022/10/29/unity10-29/</id>
    <published>2022-10-29T00:11:04.000Z</published>
    <updated>2022-10-30T00:36:26.919Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">写一天策划文案没写完，明天写完放</span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;写一天策划文案没写完，明天写完放&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity10-28</title>
    <link href="http://example.com/2022/10/28/unity10-28/"/>
    <id>http://example.com/2022/10/28/unity10-28/</id>
    <published>2022-10-28T09:55:19.000Z</published>
    <updated>2022-10-29T00:12:00.717Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">美食梦物语筹备阶段</span><br><span class="line">连接sqlserver数据库</span><br><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="链接数据库"><a href="#链接数据库" class="headerlink" title="链接数据库"></a>链接数据库</h1><h2 id="导入文件"><a href="#导入文件" class="headerlink" title="导入文件"></a>导入文件</h2><p>找到<code>E:\unity\2021.3.9f1c1\Editor\Data\MonoBleedingEdge\lib\mono\unityaot-win32</code>中的</p><p><img src="/../images/image-20221028182053741.png" alt="image-20221028182053741"></p><p>导入unity项目中</p><p>在解决方案中配置<code>Data.SqlClient</code></p><p><img src="/../images/image-20221028180154392.png" alt="image-20221028180154392"></p><h2 id="连接和操作代码"><a href="#连接和操作代码" class="headerlink" title="连接和操作代码"></a>连接和操作代码</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">database_manage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//数据库连接的定义</span></span><br><span class="line">    <span class="keyword">private</span> SqlConnection sqlCon;</span><br><span class="line">    <span class="comment">//数据库连接地址</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> sqlAddress = <span class="string">&quot;server=192.168.127.1;database=美食梦物语;uid=sa;pwd=1258005369&quot;</span>;</span><br><span class="line">    <span class="comment">//适配器</span></span><br><span class="line">    SqlDataAdapter sda = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//结果集</span></span><br><span class="line">    DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        sqlCon = new SqlConnection(sqlAddress);</span></span><br><span class="line"><span class="comment">        string sql = &quot;select * from 菜单表 &quot; +</span></span><br><span class="line"><span class="comment">                     &quot;select* from 店员表&quot;;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            sqlCon.Open();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果出现异常，抛出</span></span><br><span class="line">        <span class="keyword">catch</span> (System.Exception)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">            <span class="keyword">throw</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSet <span class="title">updata</span>(<span class="params"><span class="built_in">string</span> sql</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 测试代码</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                   //测试</span></span><br><span class="line"><span class="comment">                   //数据库操作</span></span><br><span class="line"><span class="comment">                   sda = new SqlDataAdapter(sql, sqlAddress);</span></span><br><span class="line"><span class="comment">                   //将查询的结果放入结果集</span></span><br><span class="line"><span class="comment">                   sda.Fill(ds);</span></span><br><span class="line"><span class="comment">                   for (int i = 0; i &lt; ds.Tables[0].Rows.Count; i++)</span></span><br><span class="line"><span class="comment">                   &#123;</span></span><br><span class="line"><span class="comment">                       for (int j = 0; j &lt; 5; j++)</span></span><br><span class="line"><span class="comment">                       &#123;</span></span><br><span class="line"><span class="comment">                           print(ds.Tables[0].Rows[i][j]);</span></span><br><span class="line"><span class="comment">                       &#125;</span></span><br><span class="line"><span class="comment">                   &#125;</span></span><br><span class="line"><span class="comment">                   for (int i = 0; i &lt; ds.Tables[1].Rows.Count; i++)</span></span><br><span class="line"><span class="comment">                   &#123;</span></span><br><span class="line"><span class="comment">                       for (int j = 0; j &lt; 8; j++)</span></span><br><span class="line"><span class="comment">                       &#123;</span></span><br><span class="line"><span class="comment">                           print(ds.Tables[1].Rows[i][j]);</span></span><br><span class="line"><span class="comment">                       &#125;</span></span><br><span class="line"><span class="comment">                   &#125;</span></span><br><span class="line"><span class="comment">                   return ds;</span></span><br><span class="line"><span class="comment">                   */</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//数据库操作</span></span><br><span class="line">        sda = <span class="keyword">new</span> SqlDataAdapter(sql, sqlAddress);</span><br><span class="line">        <span class="comment">//结果集</span></span><br><span class="line">        DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">        <span class="comment">//将查询的结果放入结果集</span></span><br><span class="line">        sda.Fill(ds, <span class="string">&quot;菜单表&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;美食梦物语筹备阶段&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;连接sqlserver数据库&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity10-27</title>
    <link href="http://example.com/2022/10/27/unity10-27/"/>
    <id>http://example.com/2022/10/27/unity10-27/</id>
    <published>2022-10-27T02:26:54.960Z</published>
    <updated>2022-10-28T01:17:31.751Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">玩家动画刚体  玩家死亡实现方式  flying bird代码</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="动画和刚体"><a href="#动画和刚体" class="headerlink" title="动画和刚体"></a>动画和刚体</h1><p><code>Animation</code> 和 <code>RigidBody </code>不能加在同一物体上，会产生冲突</p><p>一般挂载在两个物体上</p><h1 id="玩家死亡"><a href="#玩家死亡" class="headerlink" title="玩家死亡"></a>玩家死亡</h1><p>使用委托定义事件，当玩家死亡时，关心玩家是否死亡的人将向委托中添加函数，当玩家死亡时执行该委托即可</p><h1 id="分数系统"><a href="#分数系统" class="headerlink" title="分数系统"></a>分数系统</h1><p><code>using UnityEngine Events;</code></p><p><code>UntiyAction</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt;onscore;</span><br></pre></td></tr></table></figure><p>定义事件，当分数变化时当事件不为空执行</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h2 id="game-管理游戏面板和逻辑"><a href="#game-管理游戏面板和逻辑" class="headerlink" title="game 管理游戏面板和逻辑"></a>game 管理游戏面板和逻辑</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">game</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 管道生成器</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> GameObject pipelineManage_gameobgect;</span><br><span class="line">    <span class="keyword">private</span> GameObject player;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 游戏状态枚举</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> GamestateEnem</span><br><span class="line">    &#123;</span><br><span class="line">        Ingame,Begingame,Endgame</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前游戏状态</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> GamestateEnem gamestate;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前游戏状态属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 每次更新游戏状态更新面板</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> GamestateEnem Gamestate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> gamestate; &#125;</span><br><span class="line">        <span class="keyword">set</span> </span><br><span class="line">        &#123; </span><br><span class="line">            gamestate = <span class="keyword">value</span>;</span><br><span class="line">            updata_Gamestate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> Transform begingamePlane;</span><br><span class="line">    <span class="keyword">private</span> Transform ingamePlane;</span><br><span class="line">    <span class="keyword">private</span> Transform endgamePlane;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Text ingame_score_text;</span><br><span class="line">    <span class="keyword">private</span> Text endgame_score_text;</span><br><span class="line">    <span class="keyword">private</span> Text endgame_best_score_text;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        begingamePlane = transform.GetChild(<span class="number">0</span>);</span><br><span class="line">        ingamePlane = transform.GetChild(<span class="number">1</span>);</span><br><span class="line">        endgamePlane = transform.GetChild(<span class="number">2</span>);</span><br><span class="line">        player = GameObject.FindGameObjectWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line">        Gamestate = GamestateEnem.Begingame;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//当玩家死亡时将游戏状态转化为Endgame</span></span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().player_died_Action += player_died_game;</span><br><span class="line"></span><br><span class="line">        ingame_score_text = ingamePlane.GetChild(<span class="number">0</span>).GetComponent&lt;Text&gt;();</span><br><span class="line">        endgame_score_text=endgamePlane.GetChild(<span class="number">1</span>).GetComponent&lt;Text&gt;();</span><br><span class="line">        endgame_best_score_text=endgamePlane.GetChild(<span class="number">3</span>).GetComponent&lt;Text&gt;();</span><br><span class="line">        <span class="comment">//添加面板分数事件</span></span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().score_Action += score_game;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当分数变化时界面做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;score&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">score_game</span>(<span class="params"><span class="built_in">int</span> score</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        ingame_score_text.text = Convert.ToString(score);</span><br><span class="line">        endgame_score_text.text = Convert.ToString(score);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当玩家死亡时game做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">player_died_game</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Gamestate = GamestateEnem.Endgame;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当点击进行游戏按钮时，更新当前状态开始游戏</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_beginbutton</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Gamestate = GamestateEnem.Ingame;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更改游戏状态时进行游戏面板的更新</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updata_Gamestate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        set_begingamePlane(Gamestate==GamestateEnem.Begingame);</span><br><span class="line">        set_ingamePlane(Gamestate==GamestateEnem.Ingame);</span><br><span class="line">        set_endgamePlane(Gamestate==GamestateEnem.Endgame);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">set_begingamePlane</span>(<span class="params"><span class="built_in">bool</span> is_active</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        begingamePlane.gameObject.SetActive(is_active);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">set_ingamePlane</span>(<span class="params"><span class="built_in">bool</span> is_active</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        ingamePlane.gameObject.SetActive(is_active);</span><br><span class="line">        <span class="comment">//当在游戏中是将开始生成障碍物</span></span><br><span class="line">        <span class="comment">//其他时候不生成</span></span><br><span class="line">        pipelineManage_gameobgect.GetComponent&lt;pipelineManage&gt;().Is_creat_barrier = is_active;</span><br><span class="line">        <span class="comment">//设置小鸟是否使用重力</span></span><br><span class="line">        player.transform.GetChild(<span class="number">0</span>).GetComponent&lt;Rigidbody2D&gt;().simulated = is_active;</span><br><span class="line">        <span class="comment">//设置角色控制器的状态</span></span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().enabled = is_active;</span><br><span class="line">        <span class="keyword">if</span>(is_active)</span><br><span class="line">        &#123;</span><br><span class="line">            player.GetComponent&lt;playerControl&gt;().Score = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">set_endgamePlane</span>(<span class="params"><span class="built_in">bool</span> is_active</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_active)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> score = player.GetComponent&lt;playerControl&gt;().Score;</span><br><span class="line">            score=Mathf.Max( GameDataManager.GetInt(<span class="string">&quot;bastscore&quot;</span>),score);</span><br><span class="line">            endgame_best_score_text.text = Convert.ToString(score);</span><br><span class="line">            Debug.Log(<span class="string">&quot;分数为&quot;</span>+score);</span><br><span class="line">            GameDataManager.SetInt(<span class="string">&quot;bastscore&quot;</span>, score );</span><br><span class="line"></span><br><span class="line">            Debug.Log(<span class="string">&quot;最大分数为：&quot;</span> + GameDataManager.GetInt(<span class="string">&quot;bastscore&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        endgamePlane.gameObject.SetActive(is_active);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 退出按钮</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_exit_game</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> UNITY_EDITOR</span></span><br><span class="line">            UnityEditor.EditorApplication.isPlaying = <span class="literal">false</span>;</span><br><span class="line">        <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">            Application.Quit();</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="GameDataManager-游戏数据管理"><a href="#GameDataManager-游戏数据管理" class="headerlink" title="GameDataManager 游戏数据管理"></a>GameDataManager 游戏数据管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 本地数据管理类 </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameDataManager</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Bool</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetBool</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">bool</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetString(key + <span class="string">&quot;Bool&quot;</span>, <span class="keyword">value</span>.ToString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Bool</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">GetBool</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">bool</span>.Parse(PlayerPrefs.GetString(key + <span class="string">&quot;Bool&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存String</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetString</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">string</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetString(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取String</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetString</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetString(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Float</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetFloat</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">float</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Float</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">GetFloat</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetFloat(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Int</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetInt</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetInt(key, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Int</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">GetInt</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> PlayerPrefs.GetInt(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存IntArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetIntArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">int</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetInt(key + <span class="string">&quot;IntArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;IntArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取IntArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span>[] <span class="title">GetIntArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] intArr = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            intArr = <span class="keyword">new</span> <span class="built_in">int</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; intArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                intArr[i] = PlayerPrefs.GetInt(key + <span class="string">&quot;IntArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存FloatArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetFloatArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">float</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetFloat(key + <span class="string">&quot;FloatArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;FloatArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取FloatArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span>[] <span class="title">GetFloatArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span>[] floatArr = <span class="keyword">new</span> <span class="built_in">float</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;FloatArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            floatArr = <span class="keyword">new</span> <span class="built_in">float</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;FloatArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; floatArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                floatArr[i] = PlayerPrefs.GetFloat(key + <span class="string">&quot;FloatArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> floatArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存StringArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetStringArray</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">string</span>[] <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">value</span>.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            PlayerPrefs.SetString(key + <span class="string">&quot;StringArray&quot;</span> + i, <span class="keyword">value</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PlayerPrefs.SetInt(key + <span class="string">&quot;StringArray&quot;</span>, <span class="keyword">value</span>.Length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取StringArray</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span>[] <span class="title">GetStringArray</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span>[] stringArr = <span class="keyword">new</span> <span class="built_in">string</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (PlayerPrefs.GetInt(key + <span class="string">&quot;StringArray&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            stringArr = <span class="keyword">new</span> <span class="built_in">string</span>[PlayerPrefs.GetInt(key + <span class="string">&quot;StringArray&quot;</span>)];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; stringArr.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                stringArr[i] = PlayerPrefs.GetString(key + <span class="string">&quot;StringArray&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stringArr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Vector2</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetVector2</span>(<span class="params"><span class="built_in">string</span> key, Vector2 <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector2X&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector2Y&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Vector2</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Vector2 <span class="title">GetVector2</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Vector2 Vector2;</span><br><span class="line">        Vector2.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector2X&quot;</span>);</span><br><span class="line">        Vector2.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector2Y&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Vector2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Vector3</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetVector3</span>(<span class="params"><span class="built_in">string</span> key, Vector3 <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3X&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3Y&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;Vector3Z&quot;</span>, <span class="keyword">value</span>.z);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Vector3</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="title">GetVector3</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Vector3 vector3;</span><br><span class="line">        vector3.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3X&quot;</span>);</span><br><span class="line">        vector3.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3Y&quot;</span>);</span><br><span class="line">        vector3.z = PlayerPrefs.GetFloat(key + <span class="string">&quot;Vector3Z&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> vector3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 储存Quaternion</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetQuaternion</span>(<span class="params"><span class="built_in">string</span> key, Quaternion <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionX&quot;</span>, <span class="keyword">value</span>.x);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionY&quot;</span>, <span class="keyword">value</span>.y);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionZ&quot;</span>, <span class="keyword">value</span>.z);</span><br><span class="line">        PlayerPrefs.SetFloat(key + <span class="string">&quot;QuaternionW&quot;</span>, <span class="keyword">value</span>.w);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 取Quaternion</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>键<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Quaternion <span class="title">GetQuaternion</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Quaternion quaternion;</span><br><span class="line">        quaternion.x = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionX&quot;</span>);</span><br><span class="line">        quaternion.y = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionY&quot;</span>);</span><br><span class="line">        quaternion.z = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionZ&quot;</span>);</span><br><span class="line">        quaternion.w = PlayerPrefs.GetFloat(key + <span class="string">&quot;QuaternionW&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> quaternion;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="playerControl-角色控制死亡和分数"><a href="#playerControl-角色控制死亡和分数" class="headerlink" title="playerControl 角色控制死亡和分数"></a>playerControl 角色控制死亡和分数</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">playerControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;点击后向上的速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> up_v;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;重力速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> down_v;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">new</span> Rigidbody2D rigidbody2D;</span><br><span class="line">    <span class="keyword">private</span> Animator player_animator;</span><br><span class="line">    <span class="keyword">public</span> Text score_Text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;声音片段&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> AudioClip[] audioClips;</span><br><span class="line">    <span class="comment">//角色死亡的事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction player_died_Action;</span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; score_Action;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> score;</span><br><span class="line">    <span class="keyword">private</span> Transform player_rig_Transform;</span><br><span class="line">    <span class="keyword">private</span> AudioSource audioSource;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Score</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> score; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            score = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span>(score_Action!=<span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                score_Action(Score);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> is_died;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Is_died</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> is_died; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            is_died = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span>(is_died)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (player_died_Action != <span class="literal">null</span>) player_died_Action();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        rigidbody2D = transform.GetChild(<span class="number">0</span>).GetComponent&lt;Rigidbody2D&gt;();</span><br><span class="line">        player_animator = transform.GetComponent&lt;Animator&gt;();</span><br><span class="line">        player_died_Action += palyer_died_palyerControl;</span><br><span class="line">        player_rig_Transform = transform.GetChild(<span class="number">0</span>);</span><br><span class="line">        audioSource = transform.GetComponent&lt;AudioSource&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当玩家死亡时玩家控制器做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">palyer_died_palyerControl</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        player_animator.SetTrigger(<span class="string">&quot;rest&quot;</span>);</span><br><span class="line">        player_rig_Transform.position = <span class="keyword">new</span> Vector2(<span class="number">0f</span>, <span class="number">0.8f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当角色控制器被启用时进行操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Is_died = <span class="literal">false</span>;</span><br><span class="line">        player_rig_Transform.position = <span class="keyword">new</span> Vector2(<span class="number">-1.85f</span>, <span class="number">0.8f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        is_fly();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断是否在fly</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">is_fly</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Input.GetMouseButtonDown(<span class="number">0</span>) || Input.touchCount != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            audioSource.PlayOneShot(audioClips[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                player_animator.SetTrigger(<span class="string">&quot;fly&quot;</span>);</span><br><span class="line">                rigidbody2D.velocity = Vector2.zero;</span><br><span class="line">                rigidbody2D.AddForce(Vector2.up * up_v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (Input.touchCount != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Touch touch = Input.GetTouch(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span> (touch.phase == TouchPhase.Began)</span><br><span class="line">                &#123;</span><br><span class="line">                    player_animator.SetTrigger(<span class="string">&quot;fly&quot;</span>);</span><br><span class="line">                    rigidbody2D.velocity = Vector2.zero;</span><br><span class="line">                    rigidbody2D.AddForce(Vector2.up * up_v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            rigidbody2D.AddForce(Vector2.down * down_v * Time.deltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="playerRig-玩家刚体分数和死亡判定"><a href="#playerRig-玩家刚体分数和死亡判定" class="headerlink" title="playerRig 玩家刚体分数和死亡判定"></a>playerRig 玩家刚体分数和死亡判定</h2><p>using System.Collections;<br>using System.Collections.Generic;<br>using UnityEngine;</p><p>public class playerRig : MonoBehaviour<br>{<br>    private GameObject player;<br>    public AudioClip[] audioClips;<br>    void Start()<br>    {<br>        player &#x3D; transform.parent.gameObject;<br>    }<br>    &#x2F;&#x2F;&#x2F; <summary><br>    &#x2F;&#x2F;&#x2F; 当碰撞时玩家死亡<br>    &#x2F;&#x2F;&#x2F; </summary><br>    &#x2F;&#x2F;&#x2F; <param name="collision"></param><br>    private void OnCollisionStay2D(Collision2D collision)<br>    {<br>        Debug.Log(“玩家死亡了！”);<br>        player.GetComponent<playerControl>().Is_died &#x3D; true;<br>        AudioSource.PlayClipAtPoint(audioClips[1], transform.position);<br>    }<br>    private void OnTriggerEnter2D(Collider2D collision)<br>    {<br>        player.GetComponent<playerControl>().Score++;<br>        AudioSource.PlayClipAtPoint(audioClips[0], transform.position);<br>    }<br>}</p><h2 id="pipelineManage-管线生成和管理"><a href="#pipelineManage-管线生成和管理" class="headerlink" title="pipelineManage 管线生成和管理"></a>pipelineManage 管线生成和管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">pipelineManage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;GameObject&gt; barrier;</span><br><span class="line">    <span class="keyword">private</span> Coroutine coroutine = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> end_barrier_id=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">private</span> GameObject player;</span><br><span class="line">    <span class="comment">//管线速度</span></span><br><span class="line">    [<span class="meta">HideInInspector</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> pipeline_v;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> begin_v;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 是否生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> is_creat_barrier;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 是否生成障碍物的属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 生成就开始生成障碍物的携程，否则关闭</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Is_creat_barrier</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> is_creat_barrier; &#125;</span><br><span class="line">        <span class="keyword">set</span> </span><br><span class="line">        &#123;</span><br><span class="line">            is_creat_barrier=<span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (is_creat_barrier) begin_creat_barrier();</span><br><span class="line">            <span class="keyword">else</span> end_creat_barrier();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        begin_v = <span class="number">5f</span>;</span><br><span class="line">        pipeline_v = begin_v;</span><br><span class="line">        barrier = <span class="keyword">new</span> List&lt;GameObject&gt;();</span><br><span class="line">        <span class="comment">//将所有子对象加入障碍物列表中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;transform.childCount;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            GameObject child = transform.GetChild(i).gameObject;</span><br><span class="line">            barrier.Add(child);</span><br><span class="line">        &#125;</span><br><span class="line">        player = GameObject.FindGameObjectWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line">        <span class="comment">//添加死亡事件</span></span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().player_died_Action += player_died_pipelineManage;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加分数事件</span></span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().score_Action += score_pipeline_Manage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当分数变化时，管线管理器要做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;score&quot;&gt;</span>分数<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">score_pipeline_Manage</span>(<span class="params"><span class="built_in">int</span> score</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> sc = score;</span><br><span class="line">        pipeline_v =begin_v*(<span class="number">100f</span> + sc) / <span class="number">100f</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 角色死亡时管道管理器做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 将生成的管线删除</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">player_died_pipelineManage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i=barrier.Count;i&lt;transform.childCount;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Destroy(transform.GetChild(i).gameObject);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 开始生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">begin_creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        coroutine = StartCoroutine(creat_barrier_coroutine());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 关闭生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">end_creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(coroutine!=<span class="literal">null</span>)</span><br><span class="line">        StopCoroutine(coroutine);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 创建生成障碍物携程</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>间隔秒数<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function">IEnumerator <span class="title">creat_barrier_coroutine</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            creat_barrier();</span><br><span class="line">            <span class="built_in">float</span> time = Random.Range(<span class="number">2f</span>, <span class="number">3f</span>);</span><br><span class="line">            <span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span>(<span class="params">time</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最后一次生成位置的y值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> last_y;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最小的y值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> min_y=<span class="number">-2.5f</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 创建障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> id ;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            id = Random.Range(<span class="number">0</span>, barrier.Count);</span><br><span class="line">        &#125; <span class="keyword">while</span> (id == end_barrier_id);</span><br><span class="line">        end_barrier_id = id;</span><br><span class="line">        last_y = Random.Range(min_y, -min_y);</span><br><span class="line">    </span><br><span class="line">        GameObject gameObject = Instantiate(barrier[id],<span class="keyword">new</span> Vector2(transform.position.x,last_y), Quaternion.identity);</span><br><span class="line">        Destroy(gameObject, <span class="number">5f</span>);</span><br><span class="line">        gameObject.transform.SetParent(transform);</span><br><span class="line">        gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="pipeline-控制管线速度"><a href="#pipeline-控制管线速度" class="headerlink" title="pipeline 控制管线速度"></a>pipeline 控制管线速度</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">pipeline</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;管线移动速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> v;</span><br><span class="line">    <span class="keyword">private</span> GameObject pipeline_Manage;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        pipeline_Manage = transform.parent.gameObject;</span><br><span class="line">        v = pipeline_Manage.GetComponent&lt;pipelineManage&gt;().pipeline_v;</span><br><span class="line">        Debug.Log(<span class="string">&quot;我的速度是&quot;</span> + v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 管线向左移动</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        transform.position = <span class="keyword">new</span> Vector2(transform.position.x -v * Time.deltaTime, transform.position.y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ground-控制地面移动速度"><a href="#ground-控制地面移动速度" class="headerlink" title="ground 控制地面移动速度"></a>ground 控制地面移动速度</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ground</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Animator animator;</span><br><span class="line">    <span class="keyword">private</span> GameObject player;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator = transform.GetComponent&lt;Animator&gt;();</span><br><span class="line">        player = GameObject.FindGameObjectWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line">        player.GetComponent&lt;playerControl&gt;().score_Action += score_ground;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">score_ground</span>(<span class="params"><span class="built_in">int</span> score</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> sc = score;</span><br><span class="line">        animator.SetFloat(<span class="string">&quot;ground_v&quot;</span>,(<span class="number">100f</span>+sc)/<span class="number">100f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;玩家动画刚体  玩家死亡实现方式  flying bird代码&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="小鸟案例" scheme="http://example.com/tags/%E5%B0%8F%E9%B8%9F%E6%A1%88%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>unity10-26</title>
    <link href="http://example.com/2022/10/26/unity10-26/"/>
    <id>http://example.com/2022/10/26/unity10-26/</id>
    <published>2022-10-25T23:58:23.914Z</published>
    <updated>2022-10-27T02:26:25.693Z</updated>
    
    <content type="html"><![CDATA[<h1 id="游戏开发技术领域"><a href="#游戏开发技术领域" class="headerlink" title="游戏开发技术领域"></a>游戏开发技术领域</h1><p><img src="/../images/image-20221026084042198.png" alt="image-20221026084042198"></p><span id="more"></span><h1 id="制作地面移动效果"><a href="#制作地面移动效果" class="headerlink" title="制作地面移动效果"></a>制作地面移动效果</h1><h2 id="动画曲线"><a href="#动画曲线" class="headerlink" title="动画曲线"></a>动画曲线</h2><p><img src="/../images/image-20221026152647020.png" alt="image-20221026152647020"></p><p>使用动画制作地面移动效果会出现平滑移动的效果，即移动速度不均匀</p><p>将左右曲线设置为liner即可</p><p><img src="/../images/image-20221026153004901.png" alt="image-20221026153004901"></p><h1 id="制作小鸟动画"><a href="#制作小鸟动画" class="headerlink" title="制作小鸟动画"></a>制作小鸟动画</h1><h2 id="设置物体的中心位置"><a href="#设置物体的中心位置" class="headerlink" title="设置物体的中心位置"></a>设置物体的中心位置</h2><p>点开所用素材，设置Pivot</p><p><img src="/../images/image-20221026161548071.png" alt="image-20221026161548071"></p><p>Any State 代表所有状态，连线代表所有状态都可以进行转移</p><p><img src="/../images/image-20221026171506225.png" alt="image-20221026171506225"></p><h1 id="更新面板状态代码"><a href="#更新面板状态代码" class="headerlink" title="更新面板状态代码"></a>更新面板状态代码</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">game</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 游戏状态枚举</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> GamestateEnem</span><br><span class="line">    &#123;</span><br><span class="line">        Ingame,Begingame,Endgame</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前游戏状态</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> GamestateEnem gamestate;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前游戏状态属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 每次更新游戏状态更新面板</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> GamestateEnem Gamestate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> gamestate; &#125;</span><br><span class="line">        <span class="keyword">set</span> </span><br><span class="line">        &#123; </span><br><span class="line">            gamestate = <span class="keyword">value</span>;</span><br><span class="line">            updata_Gamestate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> Transform begingamePlane;</span><br><span class="line">    <span class="keyword">private</span> Transform ingamePlane;</span><br><span class="line">    <span class="keyword">private</span> Transform endgamePlane;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        begingamePlane = transform.GetChild(<span class="number">0</span>);</span><br><span class="line">        ingamePlane = transform.GetChild(<span class="number">1</span>);</span><br><span class="line">        endgamePlane = transform.GetChild(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        Gamestate = GamestateEnem.Begingame;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当点击进行游戏按钮时，更新当前状态开始游戏</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_beginbutton</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Gamestate = GamestateEnem.Ingame;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更改游戏状态时进行游戏面板的更新</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updata_Gamestate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        begingamePlane.gameObject.SetActive(Gamestate==GamestateEnem.Begingame);</span><br><span class="line">        ingamePlane.gameObject.SetActive(Gamestate==GamestateEnem.Ingame);</span><br><span class="line">        endgamePlane.gameObject.SetActive(Gamestate==GamestateEnem.Endgame);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="管道生成"><a href="#管道生成" class="headerlink" title="管道生成"></a>管道生成</h1><p>随机数</p><p><strong>int型，随机值涵盖：最小值，不涵盖最大值</strong> 被坑了！！<br>例：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Random.Range(<span class="number">0</span>,<span class="number">1</span>)；<span class="comment">//返回结果永远是0!</span></span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">pipelineManage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;GameObject&gt; barrier;</span><br><span class="line">    <span class="keyword">private</span> Coroutine coroutine = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> end_barrier_id=<span class="number">-1</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 是否生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> is_creat_barrier;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 是否生成障碍物的属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 生成就开始生成障碍物的携程，否则关闭</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Is_creat_barrier</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> is_creat_barrier; &#125;</span><br><span class="line">        <span class="keyword">set</span> </span><br><span class="line">        &#123;</span><br><span class="line">            is_creat_barrier=<span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (is_creat_barrier) begin_creat_barrier();</span><br><span class="line">            <span class="keyword">else</span> end_creat_barrier();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        barrier = <span class="keyword">new</span> List&lt;GameObject&gt;();</span><br><span class="line">        <span class="comment">//将所有子对象加入障碍物列表中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;transform.childCount;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            GameObject child = transform.GetChild(i).gameObject;</span><br><span class="line">            barrier.Add(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 开始生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">begin_creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        coroutine = StartCoroutine(creat_barrier_coroutine());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 关闭生成障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">end_creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(coroutine!=<span class="literal">null</span>)</span><br><span class="line">        StopCoroutine(coroutine);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 创建生成障碍物携程</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>间隔秒数<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function">IEnumerator <span class="title">creat_barrier_coroutine</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            creat_barrier();</span><br><span class="line">            <span class="built_in">float</span> time = Random.Range(<span class="number">2f</span>, <span class="number">3f</span>);</span><br><span class="line">            <span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span>(<span class="params">time</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最后一次生成位置的y值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> last_y;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最小的y值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> min_y=<span class="number">-2.5f</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 创建障碍物</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">creat_barrier</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> id ;</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">            id = Random.Range(<span class="number">0</span>, barrier.Count);</span><br><span class="line">        &#125; <span class="keyword">while</span> (id == end_barrier_id);</span><br><span class="line">        end_barrier_id = id;</span><br><span class="line">        last_y = Random.Range(min_y, -min_y);</span><br><span class="line">    </span><br><span class="line">        GameObject gameObject = Instantiate(barrier[id],<span class="keyword">new</span> Vector2(transform.position.x,last_y), Quaternion.identity);</span><br><span class="line">        Destroy(gameObject, <span class="number">5f</span>);</span><br><span class="line">        gameObject.transform.SetParent(transform);</span><br><span class="line">        gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;游戏开发技术领域&quot;&gt;&lt;a href=&quot;#游戏开发技术领域&quot; class=&quot;headerlink&quot; title=&quot;游戏开发技术领域&quot;&gt;&lt;/a&gt;游戏开发技术领域&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/../images/image-20221026084042198.png&quot; alt=&quot;image-20221026084042198&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="小鸟案例" scheme="http://example.com/tags/%E5%B0%8F%E9%B8%9F%E6%A1%88%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>圣经</title>
    <link href="http://example.com/2022/10/25/%E5%9C%A3%E7%BB%8F/"/>
    <id>http://example.com/2022/10/25/%E5%9C%A3%E7%BB%8F/</id>
    <published>2022-10-25T14:34:54.367Z</published>
    <updated>2022-10-26T06:33:24.117Z</updated>
    
    <content type="html"><![CDATA[<h1 id="团队四种人"><a href="#团队四种人" class="headerlink" title="团队四种人"></a>团队四种人</h1><p><img src="/../images/image-20221025223641429.png" alt="image-20221025223641429"></p><span id="more"></span><p>选择环境,获取信息，有知觉，选择角度，去做（专注）</p><p>入门：关注于过程  精通：关注于结果</p><h1 id="学习方式"><a href="#学习方式" class="headerlink" title="学习方式"></a>学习方式</h1><p><img src="/../images/image-20221026081620549.png" alt="image-20221026081620549"></p><p>学习是循序渐进放到过程，要有良好的心态</p><p><img src="/../images/image-20221026082020113.png" alt="image-20221026082020113"></p><p>经历跃迁的成长</p><p>于过去的自己进行对比</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;团队四种人&quot;&gt;&lt;a href=&quot;#团队四种人&quot; class=&quot;headerlink&quot; title=&quot;团队四种人&quot;&gt;&lt;/a&gt;团队四种人&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/../images/image-20221025223641429.png&quot; alt=&quot;image-20221025223641429&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="圣经" scheme="http://example.com/categories/%E5%9C%A3%E7%BB%8F/"/>
    
    
  </entry>
  
</feed>
