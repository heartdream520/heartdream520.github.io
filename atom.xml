<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>心梦</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-12-16T03:26:43.110Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>心梦</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>极世界-移动同步2</title>
    <link href="http://example.com/2022/12/16/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%A7%BB%E5%8A%A8%E5%90%8C%E6%AD%A52/"/>
    <id>http://example.com/2022/12/16/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%A7%BB%E5%8A%A8%E5%90%8C%E6%AD%A52/</id>
    <published>2022-12-16T02:26:54.000Z</published>
    <updated>2022-12-16T03:26:43.110Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">同步的目标对象</span><br><span class="line">同步的流程</span><br><span class="line"></span><br><span class="line">EntitySync协议</span><br><span class="line">EntitySync的影响和发送</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="同步的流程"><a href="#同步的流程" class="headerlink" title="同步的流程"></a>同步的流程<img src="/../images/image-20221216112633439.png" alt="image-20221216112633439"></h1>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;同步的目标对象&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;同步的流程&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EntitySync协议&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EntitySync的影响和发送&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-移动同步1</title>
    <link href="http://example.com/2022/12/14/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%A7%BB%E5%8A%A8%E5%90%8C%E6%AD%A51/"/>
    <id>http://example.com/2022/12/14/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%A7%BB%E5%8A%A8%E5%90%8C%E6%AD%A51/</id>
    <published>2022-12-14T12:19:14.000Z</published>
    <updated>2022-12-15T15:37:51.074Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">帧同步</span><br><span class="line">状态同步</span><br><span class="line">状态帧同步</span><br><span class="line">完善角色进入及离开处理</span><br><span class="line"></span><br><span class="line">CharacterManager（C/S）</span><br><span class="line">EntityManager（C/S）</span><br><span class="line">打包运行Win客户端</span><br><span class="line"></span><br><span class="line">遇到问题 ：返回角色选择后再次进入游戏，小地图角色transformm为null</span><br><span class="line">解决 ：角色创建为携程创建，创建完一个角色后就执行了小地图的start，导致User的角色gameobject未赋值就使用，在User中创建事件即可</span><br><span class="line"></span><br><span class="line">Mono单例需要使用重载的start等回调函数</span><br><span class="line">游戏对象管理器 使用事件时， +=  -=</span><br><span class="line"></span><br><span class="line">ID类型</span><br><span class="line"></span><br><span class="line">DB_id，Entity_ID，Tid，ID</span><br><span class="line"></span><br><span class="line">将创建角色和销毁角色 使用的ID转为Entiy_Id;</span><br><span class="line"></span><br><span class="line">Entity中的删除通知： 在EntittController中实现接口，并将接口函数添加到字典中，角色需要删除血量条等</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="帧同步"><a href="#帧同步" class="headerlink" title="帧同步"></a>帧同步</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>由于不同的系统对浮点数的处理方式不同，导致在客户端进行处理时出现不同的结果</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p><img src="/../images/image-20221214204024923.png" alt="image-20221214204024923"></p><p><img src="/../images/image-20221214204034956.png" alt="image-20221214204034956"></p><h1 id="状态同步"><a href="#状态同步" class="headerlink" title="状态同步"></a>状态同步</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>只有状态数据改变时才进行同步</p><h2 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h2><p><img src="/../images/image-20221214204123586.png" alt="image-20221214204123586"></p><h1 id="状态帧同步"><a href="#状态帧同步" class="headerlink" title="状态帧同步"></a>状态帧同步</h1><h2 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h2><p>按固定的逻辑帧搜集变化的状态数据并进行网络同步</p><h2 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h2><p><img src="/../images/image-20221214204049216.png" alt="image-20221214204049216"></p><p><img src="/../images/image-20221215161643638.png" alt="image-20221215161643638"></p><p><img src="/../images/image-20221215164053593.png" alt="image-20221215164053593"></p><p>玩家进入： 客户端 UserService 发送玩家进入请求 服务端 响应，将进入的角色加入玩家管理器中 </p><p>并加入相应地图中，地图存储进入此地图的玩家，玩家进入时，通知此地图其他所有玩家新玩家进入地图</p><p>遍历创建角色，</p><h1 id="打包运行Win客户端"><a href="#打包运行Win客户端" class="headerlink" title="打包运行Win客户端"></a>打包运行Win客户端</h1><p>将 log4net.xml 文件放到打包到的目录下</p><p>将存放数据的Data目录放到打包文件下</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;帧同步&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;状态同步&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;状态帧同步&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;完善角色进入及离开处理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CharacterManager（C/S）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EntityManager（C/S）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;打包运行Win客户端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;遇到问题 ：返回角色选择后再次进入游戏，小地图角色transformm为null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;解决 ：角色创建为携程创建，创建完一个角色后就执行了小地图的start，导致User的角色gameobject未赋值就使用，在User中创建事件即可&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Mono单例需要使用重载的start等回调函数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;游戏对象管理器 使用事件时， +=  -=&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ID类型&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DB_id，Entity_ID，Tid，ID&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;将创建角色和销毁角色 使用的ID转为Entiy_Id;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Entity中的删除通知： 在EntittController中实现接口，并将接口函数添加到字典中，角色需要删除血量条等&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-小地图</title>
    <link href="http://example.com/2022/12/14/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%B0%8F%E5%9C%B0%E5%9B%BE/"/>
    <id>http://example.com/2022/12/14/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%B0%8F%E5%9C%B0%E5%9B%BE/</id>
    <published>2022-12-14T02:45:31.000Z</published>
    <updated>2022-12-14T12:20:26.317Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">小地图系统</span><br><span class="line">小地图的资源制作方式</span><br><span class="line">小地图的UI元素</span><br><span class="line">小地图的配置与加载</span><br><span class="line">小地图与场景的坐标映射</span><br><span class="line"></span><br><span class="line">修改配置表</span><br><span class="line">在uese中添加当前地图字段</span><br><span class="line">在正式加载场景之前进行赋值</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="小地图的资源制作方式"><a href="#小地图的资源制作方式" class="headerlink" title="小地图的资源制作方式"></a>小地图的资源制作方式</h1><p>1.实时渲染场景  使用摄像机渲染到材质上</p><p>2.预渲染顶视图 + 润色</p><p>  使用摄像机渲染后美术润色</p><p>3.纯美术制作</p><h1 id="修改配置表"><a href="#修改配置表" class="headerlink" title="修改配置表"></a>修改配置表</h1><p>配置表位置 E:\极世界MMORPG\mymmo\Src\Data\Tables</p><p>点击工具生成json，生成的json会同步到客户端，服务端需要自行复制</p><p>添加配置表元素需要到服务端 Common-Data 的定义类中添加字段后生成解决方案</p><p>复制E:\极世界MMORPG\mymmo\Src\Lib\Common\bin\Debug到E:\极世界MMORPG\mymmo\Src\Client\Assets\References 中</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;小地图系统&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;小地图的资源制作方式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;小地图的UI元素&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;小地图的配置与加载&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;小地图与场景的坐标映射&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;修改配置表&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在uese中添加当前地图字段&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在正式加载场景之前进行赋值&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-进入主城3-角色信息显示</title>
    <link href="http://example.com/2022/12/13/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E3-%E8%A7%92%E8%89%B2%E4%BF%A1%E6%81%AF%E6%98%BE%E7%A4%BA/"/>
    <id>http://example.com/2022/12/13/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E3-%E8%A7%92%E8%89%B2%E4%BF%A1%E6%81%AF%E6%98%BE%E7%A4%BA/</id>
    <published>2022-12-13T02:05:42.000Z</published>
    <updated>2022-12-14T02:46:51.585Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">第三人称自由视角实现</span><br><span class="line"></span><br><span class="line">主界面UI角色信息  UI与数据的交互</span><br><span class="line"></span><br><span class="line">角色头顶信息显示（名字和血条）</span><br><span class="line">世界空间UI  UI跟随角色</span><br><span class="line">四元数*Vector3 = Vector3向四元数方向旋转后的向量</span><br><span class="line"></span><br><span class="line">曲线</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="第三人称自由视角实现"><a href="#第三人称自由视角实现" class="headerlink" title="第三人称自由视角实现"></a>第三人称自由视角实现</h1><p><img src="/../images/image-20221213190527470.png" alt="image-20221213190527470"></p><p>通过键盘输入控制角色转向</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">direction = <span class="keyword">new</span> Vector3(Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>), <span class="number">0</span>, -Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>)).normalized;</span><br><span class="line"></span><br><span class="line">target.transform.eulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0</span>, Quaternion.FromToRotation(Vector3.forward, direction).eulerAngles.y, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>原文链接：<a href="https://blog.csdn.net/n_moling/article/details/82216655">https://blog.csdn.net/n_moling/article/details/82216655</a></p><p>在游戏对象创建的时候创建血条等，在游戏对象删除的时候删除血条等，删除时判断世界UI管理器是否存在</p><p><code>this.transform.forward = Camera.main.transform.forward;</code></p><p>调整摄像机的位置</p><h1 id="曲线"><a href="#曲线" class="headerlink" title="曲线"></a>曲线</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定义</span><br><span class="line"><span class="keyword">public</span> AnimationCurve camera_curve;</span><br><span class="line">取值</span><br><span class="line">camera_curve.Evaluate(y);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;第三人称自由视角实现&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;主界面UI角色信息  UI与数据的交互&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;角色头顶信息显示（名字和血条）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;世界空间UI  UI跟随角色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;四元数*Vector3 = Vector3向四元数方向旋转后的向量&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;曲线&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-进入主城2-角色控制</title>
    <link href="http://example.com/2022/12/11/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E2-%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6/"/>
    <id>http://example.com/2022/12/11/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E2-%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6/</id>
    <published>2022-12-11T12:59:55.000Z</published>
    <updated>2022-12-13T02:06:16.957Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">客户端 地图服务</span><br><span class="line">客户端 角色管理器</span><br><span class="line">游戏对象管理器</span><br><span class="line">玩家控制器</span><br><span class="line">主角摄像机</span><br><span class="line"></span><br><span class="line">进入游戏层次</span><br><span class="line"></span><br><span class="line">将动画和刚体组件放到不同的位置避免冲突</span><br><span class="line">为角色创建新的父节点，为父节点添加刚体组件和碰撞盒，将脚本添加到角色中，注意角色预制体位置与加载路径相同，在LoadingManage中初始化地图服务</span><br></pre></td></tr></table></figure><span id="more"></span><p><img src="/../images/image-20221211210845192.png" alt="image-20221211210845192"></p><p><img src="/../images/image-20221211211830392.png" alt="image-20221211211830392"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;客户端 地图服务&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;客户端 角色管理器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;游戏对象管理器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;玩家控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;主角摄像机&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;进入游戏层次&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;将动画和刚体组件放到不同的位置避免冲突&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;为角色创建新的父节点，为父节点添加刚体组件和碰撞盒，将脚本添加到角色中，注意角色预制体位置与加载路径相同，在LoadingManage中初始化地图服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-进入主城1</title>
    <link href="http://example.com/2022/12/11/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E1/"/>
    <id>http://example.com/2022/12/11/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%BF%9B%E5%85%A5%E4%B8%BB%E5%9F%8E1/</id>
    <published>2022-12-11T01:57:37.000Z</published>
    <updated>2022-12-11T13:01:03.724Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择角色加载进入主城的步骤</span><br></pre></td></tr></table></figure><span id="more"></span><p>客户端发送进入游戏信息  使用在玩家中的位置作为索引</p><p>服务端处理收到的信息，将进入的玩家加入到玩家管理器，设定sender中的玩家，地图管理器中加入此玩家，地图将此玩家的加入广播给其他所有玩家</p><p>服务端中的单位为cm，客户端中的单位为米，服务端与客户端通信需要进行转化</p><p>注意dataManage MapManage的初始化</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;选择角色加载进入主城的步骤&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-角色创建与数据加载</title>
    <link href="http://example.com/2022/12/06/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%A7%92%E8%89%B2%E5%88%9B%E5%BB%BA%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD/"/>
    <id>http://example.com/2022/12/06/%E6%9E%81%E4%B8%96%E7%95%8C-%E8%A7%92%E8%89%B2%E5%88%9B%E5%BB%BA%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD/</id>
    <published>2022-12-06T03:42:50.000Z</published>
    <updated>2022-12-10T14:57:58.757Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">配置表读取</span><br><span class="line">Renderer Texture   在UI上显示3D动画</span><br><span class="line"></span><br><span class="line">DataManager  读取 json所有类</span><br><span class="line"></span><br><span class="line">生成json步骤</span><br><span class="line"></span><br><span class="line">新加字段步骤</span><br><span class="line"></span><br><span class="line">移动UI位置    需要使用Transform.localPosition</span><br><span class="line"></span><br><span class="line">关闭协程</span><br><span class="line">UGUI回调函数</span><br><span class="line"></span><br><span class="line">使用EF访问数据库</span><br><span class="line">应用通信协议</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="DataManager"><a href="#DataManager" class="headerlink" title="DataManager"></a>DataManager</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> 给服务端用的</span></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Load</span>()</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="built_in">string</span> json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;MapDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Maps = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, MapDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;CharacterDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Characters = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, CharacterDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;TeleporterDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Teleporters = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, TeleporterDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;SpawnPointDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.SpawnPoints = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, Dictionary&lt;<span class="built_in">int</span>, SpawnPointDefine&gt;&gt;&gt; (json);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> 给客户端用的</span></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"> <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> IEnumerator <span class="title">LoadData</span>()</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="built_in">string</span> json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;MapDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Maps = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, MapDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;CharacterDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Characters = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, CharacterDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;TeleporterDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.Teleporters = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, TeleporterDefine&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">     json = File.ReadAllText(<span class="keyword">this</span>.DataPath + <span class="string">&quot;SpawnPointDefine.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.SpawnPoints = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">int</span>, Dictionary&lt;<span class="built_in">int</span>, SpawnPointDefine&gt;&gt;&gt;(json);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="生成json"><a href="#生成json" class="headerlink" title="生成json"></a>生成json</h1><p>1.点击E:\极世界MMORPG\mymmo\Src\Data\Excel2Json.cmd 生成json.txt</p><p>2.将E:\极世界MMORPG\mymmo\Src\Data\Data 下的text文件复制到 服务端 端   E:\极世界MMORPG\mymmo\Src\Server\GameServer\GameServer\bin\Debug\Data </p><p>3.将E:\极世界MMORPG\mymmo\Src\Data\Data 下的text文件复制到 客户端 E:\极世界MMORPG\mymmo\Src\Client\Data</p><h1 id="Renderer-Texture"><a href="#Renderer-Texture" class="headerlink" title="Renderer Texture"></a>Renderer Texture</h1><h2 id="创建-RawImage"><a href="#创建-RawImage" class="headerlink" title="创建 RawImage"></a>创建 RawImage</h2><p><img src="/../images/image-20221206172522451.png" alt="image-20221206172522451"></p><h1 id="新加字段步骤"><a href="#新加字段步骤" class="headerlink" title="新加字段步骤"></a>新加字段步骤</h1><h2 id="数据字段没有在服务器data中相应Define中添加"><a href="#数据字段没有在服务器data中相应Define中添加" class="headerlink" title="数据字段没有在服务器data中相应Define中添加"></a>数据字段没有在服务器data中相应Define中添加</h2><p><img src="/../images/image-20221206195012441.png" alt="image-20221206195012441"></p><h2 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h2><p>将E:\极世界MMORPG\mymmo\Src\Lib\Common\bin\Debug下的五个文件复制到</p><p>E:\极世界MMORPG\mymmo\Src\Client\Assets\References 中</p><p><img src="/../images/image-20221206195137062.png" alt="image-20221206195137062"></p><h1 id="关闭协程"><a href="#关闭协程" class="headerlink" title="关闭协程"></a>关闭协程</h1><p><a href="https://blog.csdn.net/qq_37032670/article/details/119220404?ops_request_misc=%7B%22request_id%22:%22167042090516800180645862%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=167042090516800180645862&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-119220404-null-null.142%5Ev68%5Epc_new_rank,201%5Ev4%5Eadd_ask,213%5Ev2%5Et3_control2&utm_term=unity%E5%81%9C%E6%AD%A2%E6%90%BA%E7%A8%8B&spm=1018.2226.3001.4187">(37条消息) Unity 之 关于停止协程的五种方式解析_qq_37032670的博客-CSDN博客_unity关闭协程</a></p><h1 id="接收返回值"><a href="#接收返回值" class="headerlink" title="接收返回值"></a>接收返回值</h1><p>不管使用下面哪种方式启动协程，都可以结束其返回值用以停止对应协程；</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Coroutine stopCor_1;</span><br><span class="line"><span class="keyword">private</span> Coroutine stopCor_2;</span><br><span class="line">stopCor_1 = StartCoroutine(<span class="string">&quot;Cor_1&quot;</span>);</span><br><span class="line">stopCor_2 = StartCoroutine(Cor_2());</span><br></pre></td></tr></table></figure><p>停止协程：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StopCoroutine(stopCor_1);</span><br><span class="line">StopCoroutine(stopCor_2);</span><br></pre></td></tr></table></figure><h1 id="UGUI回调函数"><a href="#UGUI回调函数" class="headerlink" title="UGUI回调函数"></a>UGUI回调函数</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.EventSystems;</span><br><span class="line"></span><br><span class="line"><span class="comment">//句柄</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UGUI_back</span> : <span class="title">MonoBehaviour</span>,</span><br><span class="line"><span class="title">IPointerEnterHandler</span>, <span class="title">IPointerExitHandler</span>,<span class="comment">//进入，离开</span></span><br><span class="line"><span class="title">IPointerDownHandler</span>, <span class="title">IPointerUpHandler</span>,<span class="comment">//按下抬起</span></span><br><span class="line"><span class="title">IPointerClickHandler</span>,<span class="comment">//点击</span></span><br><span class="line"><span class="title">IBeginDragHandler</span>, <span class="title">IDragHandler</span>, <span class="title">IEndDragHandler</span><span class="comment">//拖拽</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 鼠标进入</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPointerEnter</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;Enter&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 鼠标退出</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPointerExit</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;Exit&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 鼠标按下</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPointerDown</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;Down&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 鼠标抬起</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPointerUp</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">       <span class="comment">// Debug.Log(&quot;Up&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 鼠标点击</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnPointerClick</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;Click&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 开始拖拽</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnBeginDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;BeginDrag&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 拖拽中</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;Drag&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 结束拖拽</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;eventData&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnEndDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(&quot;EndDrag&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="使用EF访问数据库"><a href="#使用EF访问数据库" class="headerlink" title="使用EF访问数据库"></a>使用EF访问数据库</h1><h1 id="应用通信协议"><a href="#应用通信协议" class="headerlink" title="应用通信协议"></a>应用通信协议</h1><h2 id="发送信息"><a href="#发送信息" class="headerlink" title="发送信息"></a>发送信息</h2><p>设置发送信息函数  –&gt; 设置接收信息函数 –&gt; 设置角色创建事件–&gt; 订阅和删除接收信息函数</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;配置表读取&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Renderer Texture   在UI上显示3D动画&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DataManager  读取 json所有类&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;生成json步骤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;新加字段步骤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;移动UI位置    需要使用Transform.localPosition&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;关闭协程&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UGUI回调函数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;使用EF访问数据库&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;应用通信协议&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-用户登录</title>
    <link href="http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95/"/>
    <id>http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95/</id>
    <published>2022-12-04T13:08:15.000Z</published>
    <updated>2022-12-05T14:15:03.026Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">角色状态机</span><br><span class="line">游戏框架图</span><br><span class="line">c# yield return用法</span><br><span class="line"></span><br><span class="line">根据路径加载对象</span><br><span class="line">完成了登录系统</span><br></pre></td></tr></table></figure><span id="more"></span><p><img src="/../images/image-20221204210921665.png" alt="image-20221204210921665"></p><p><img src="/../images/image-20221204210928879.png" alt="image-20221204210928879"></p><h1 id="角色状态机"><a href="#角色状态机" class="headerlink" title="角色状态机"></a>角色状态机</h1><p><img src="/../images/image-20221204210947365.png" alt="image-20221204210947365"></p><h1 id="游戏框架图"><a href="#游戏框架图" class="headerlink" title="游戏框架图"></a>游戏框架图</h1><p><img src="/../images/image-20221204211012479.png" alt="image-20221204211012479"></p><h1 id="c-yield-return用法"><a href="#c-yield-return用法" class="headerlink" title="c# yield return用法"></a>c# yield return用法</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// 下一帧再执行后续代码</span></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//下一帧再执行后续代码</span></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="number">6</span>;<span class="comment">//(任意数字) 下一帧再执行后续代码</span></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">break</span>; <span class="comment">//直接结束该协程的后续操作</span></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">return</span> asyncOperation;<span class="comment">//等异步操作结束后再执行后续代码</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="title">StartCoroution</span>(<span class="params"><span class="comment">/*某个协程*/</span></span>)</span>;<span class="comment">//等待某个协程执行完毕后再执行后续代码</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="title">WWW</span>()</span>;<span class="comment">//等待WWW操作完成后再执行后续代码</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForEndOfFrame</span>()</span>;<span class="comment">//等待帧结束,等待直到所有的摄像机和GUI被渲染完成后，在该帧显示在屏幕之前执行</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span>(<span class="params"><span class="number">0.3f</span></span>)</span>;<span class="comment">//等待0.3秒，一段指定的时间延迟之后继续执行，在所有的Update函数完成调用的那一帧之后（这里的时间会受到Time.timeScale的影响）;</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSecondsRealtime</span>(<span class="params"><span class="number">0.3f</span></span>)</span>;<span class="comment">//等待0.3秒，一段指定的时间延迟之后继续执行，在所有的Update函数完成调用的那一帧之后（这里的时间不受到Time.timeScale的影响）;</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="title">WaitForFixedUpdate</span>()</span>;<span class="comment">//等待下一次FixedUpdate开始时再执行后续代码</span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitUntil</span>()<span class="comment">//将协同执行直到 当输入的参数（或者委托）为true的时候....如:yield return new WaitUntil(() =&gt; frame &gt;= 10);</span></span></span><br><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitWhile</span>()<span class="comment">//将协同执行直到 当输入的参数（或者委托）为false的时候.... 如:yield return new WaitWhile(() =&gt; frame &lt; 10);</span></span></span><br></pre></td></tr></table></figure><h1 id="根据路径加载对象"><a href="#根据路径加载对象" class="headerlink" title="根据路径加载对象"></a>根据路径加载对象</h1><p>[(36条消息) Unity 资源加载的两种方式：Resources和AssetBundle最详细的解析_心之凌儿的博客-CSDN博客_unity resources](<a href="https://blog.csdn.net/xinzhilinger/article/details/115408934?ops_request_misc=%7B%22request_id%22:%22167023023516800182166017%22,%22scm%22:%2220140713.130102334..%22%7D&amp;request_id=167023023516800182166017&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-115408934-null-null.142%5Ev67%5Epc_rank_34_queryrelevant25,201%5Ev4%5Eadd_ask,213%5Ev2%5Et3_control2&amp;utm_term=unity">https://blog.csdn.net/xinzhilinger/article/details/115408934?ops_request_misc=%7B%22request%5Fid%22%3A%22167023023516800182166017%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=167023023516800182166017&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-115408934-null-null.142^v67^pc_rank_34_queryrelevant25,201^v4^add_ask,213^v2^t3_control2&amp;utm_term=unity</a> Resources&amp;spm&#x3D;1018.2226.3001.4187)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">注意：</span><br><span class="line"></span><br><span class="line">首先Resources方式加载Asset资源只能加载位于命名为Resources的文件夹下的资源，因此如果要使用这种加载方式时，首先需要先创建命名为Resources的文件夹，然后将需要加载的资源放置于该文件夹下</span><br><span class="line">另一点比较关键的是，Resources这种动态加载方式是只读的，在游戏打包后，就无法对文件夹的内容进行修改</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resources.Load&lt;T&gt;(path);</span><br><span class="line"><span class="comment">//         对象类型  相对Resources文件夹的路径</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;角色状态机&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;游戏框架图&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;c# yield return用法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;根据路径加载对象&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;完成了登录系统&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界-基础场景与UI</title>
    <link href="http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%9F%BA%E7%A1%80%E5%9C%BA%E6%99%AF%E4%B8%8EUI/"/>
    <id>http://example.com/2022/12/04/%E6%9E%81%E4%B8%96%E7%95%8C-%E5%9F%BA%E7%A1%80%E5%9C%BA%E6%99%AF%E4%B8%8EUI/</id>
    <published>2022-12-04T03:43:08.000Z</published>
    <updated>2022-12-04T13:08:42.735Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UI资源导入</span><br><span class="line">制作自定义字体</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="制作自定义字体"><a href="#制作自定义字体" class="headerlink" title="制作自定义字体"></a>制作自定义字体</h1><p>1.创建<code>custom Font</code></p><p><img src="/../images/image-20221204165906037.png" alt="image-20221204165906037"></p><p>2.新建材质，将字体图片放在材质上，将材质使用在custom Font上。</p><p><img src="/../images/image-20221204170111652.png" alt="image-20221204170111652"></p><p>3.逐个设置字体</p><p><img src="/../images/image-20221204170140005.png" alt="image-20221204170140005"></p><p><img src="/../images/image-20221204210653824.png" alt="image-20221204210653824"></p><p>Index  为对应字符的ASCII</p><p>UV为对应字符在图片中的比例位置  切割方法如图：</p><p><img src="/../images/image-20221204170331738.png" alt="image-20221204170331738"></p><p>vert为在Text中的位置和大小</p><p>Advance为与下个字符之间的间距  一般设为字符长度即可</p><h2 id="具体数值"><a href="#具体数值" class="headerlink" title="具体数值"></a>具体数值</h2><p><img src="/../images/image-20221204190224487.png" alt="image-20221204190224487"></p><p><img src="/../images/image-20221204190248881.png" alt="image-20221204190248881"></p><p><img src="/../images/image-20221204190301865.png" alt="image-20221204190301865"></p><p><img src="/../images/image-20221204190314707.png" alt="image-20221204190314707"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UI资源导入&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;制作自定义字体&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>网络编程</title>
    <link href="http://example.com/2022/12/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    <id>http://example.com/2022/12/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</id>
    <published>2022-12-04T03:12:29.000Z</published>
    <updated>2022-12-04T03:42:26.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="网络" scheme="http://example.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="网络编程" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>极世界03</title>
    <link href="http://example.com/2022/12/03/%E6%9E%81%E4%B8%96%E7%95%8C03/"/>
    <id>http://example.com/2022/12/03/%E6%9E%81%E4%B8%96%E7%95%8C03/</id>
    <published>2022-12-03T04:35:49.000Z</published>
    <updated>2022-12-04T03:43:55.326Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">游戏框架设计</span><br><span class="line">层划分</span><br><span class="line">服务端功能</span><br><span class="line"></span><br><span class="line">协议文件位置  E:\极世界MMORPG\Art\mmorpg\Src\Lib\proto</span><br><span class="line"></span><br><span class="line">网络添加协议 发送消息</span><br></pre></td></tr></table></figure><h1 id="层"><a href="#层" class="headerlink" title="层"></a>层</h1><p><img src="/../images/image-20221203133427907.png" alt="image-20221203133427907"></p><h2 id="服务层"><a href="#服务层" class="headerlink" title="服务层"></a>服务层</h2><p>客户端与服务层的直接接口</p><p>服务端代码处理客户端提出的请求并进行响应</p><h1 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h1><p><img src="/../images/image-20221203133433932.png" alt="image-20221203133433932"></p><h1 id="网络添加协议-发送消息"><a href="#网络添加协议-发送消息" class="headerlink" title="网络添加协议 发送消息"></a>网络添加协议 发送消息</h1><h2 id="协议中添加测试消息"><a href="#协议中添加测试消息" class="headerlink" title="协议中添加测试消息"></a>协议中添加测试消息</h2><p><img src="/../images/image-20221203204422609.png" alt="image-20221203204422609"></p><h2 id="设定message"><a href="#设定message" class="headerlink" title="设定message"></a>设定message</h2><p><img src="/../images/image-20221203204439886.png" alt="image-20221203204439886"></p><h2 id="点击生成协议工具"><a href="#点击生成协议工具" class="headerlink" title="点击生成协议工具"></a>点击生成协议工具</h2><p><img src="/../images/image-20221203204556312.png" alt="image-20221203204556312"></p><h2 id="到服务器解决方案生成解决方案"><a href="#到服务器解决方案生成解决方案" class="headerlink" title="到服务器解决方案生成解决方案"></a>到服务器解决方案生成解决方案</h2><p><img src="/../images/image-20221203204838581.png" alt="image-20221203204838581"></p><h2 id="protocal-x2F-bin-x2F-debug下四个文件替换到Client-Assets-References目录下"><a href="#protocal-x2F-bin-x2F-debug下四个文件替换到Client-Assets-References目录下" class="headerlink" title="protocal&#x2F;bin&#x2F;debug下四个文件替换到Client\Assets\References目录下"></a>protocal&#x2F;bin&#x2F;debug下四个文件替换到Client\Assets\References目录下</h2><p><img src="/../images/image-20221203205318882.png" alt="image-20221203205318882"></p><p>可以配置E:\极世界MMORPG\mymmo\Src\Lib\Protocol\Protocol.csproj</p><p>来省去此步操作</p><h2 id="发送消息"><a href="#发送消息" class="headerlink" title="发送消息"></a>发送消息</h2><p><img src="/../images/image-20221203215303487.png" alt="image-20221203215303487"></p><h2 id="在services目录下建立HelloWorldService"><a href="#在services目录下建立HelloWorldService" class="headerlink" title="在services目录下建立HelloWorldService"></a>在services目录下建立HelloWorldService</h2><p><img src="/../images/image-20221203224208351.png" alt="image-20221203224208351"></p><h2 id="在gameserver下加入hellowordservice的init和stare"><a href="#在gameserver下加入hellowordservice的init和stare" class="headerlink" title="在gameserver下加入hellowordservice的init和stare"></a>在gameserver下加入hellowordservice的init和stare</h2><p><img src="/../images/image-20221203224302850.png" alt="image-20221203224302850"></p><h2 id="在Network-MessageDispatch-cs中加入消息分发"><a href="#在Network-MessageDispatch-cs中加入消息分发" class="headerlink" title="在Network\MessageDispatch.cs中加入消息分发"></a>在Network\MessageDispatch.cs中加入消息分发</h2><p><img src="/../images/image-20221203224402922.png" alt="image-20221203224402922"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;s</summary>
      
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界02</title>
    <link href="http://example.com/2022/11/23/%E6%9E%81%E4%B8%96%E7%95%8C02/"/>
    <id>http://example.com/2022/11/23/%E6%9E%81%E4%B8%96%E7%95%8C02/</id>
    <published>2022-11-23T08:27:08.000Z</published>
    <updated>2022-12-03T06:59:22.053Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">策划文档  美术规范  技术文档</span><br><span class="line"></span><br><span class="line">untiy 2018 配套使用 vs2017</span><br><span class="line"></span><br><span class="line">配置表工具  excel</span><br><span class="line">协议工具   客户端与服务端的约定 为协议</span><br><span class="line">其他工具   </span><br><span class="line">框架  客户端    </span><br><span class="line">         日志  配置  数据加载  网络 </span><br><span class="line">框架  服务端</span><br><span class="line">         日志 配置 数据加载 网络 DB访问 基础组件</span><br><span class="line">   </span><br><span class="line">json 比较灵活 可以做嵌套 性能比较高</span><br><span class="line"></span><br><span class="line">Entity Framework</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><p>使用<code>Goodle Protobuf</code></p><h2 id="协议位置"><a href="#协议位置" class="headerlink" title="协议位置"></a>协议位置</h2><p><img src="/../images/image-20221203143312124.png" alt="image-20221203143312124"></p><h2 id="协议生成工具"><a href="#协议生成工具" class="headerlink" title="协议生成工具"></a>协议生成工具</h2><p><img src="/../images/image-20221202162413483.png" alt="image-20221202162413483"></p><h2 id="协议代码"><a href="#协议代码" class="headerlink" title="协议代码"></a>协议代码</h2><p><img src="/../images/image-20221203143215923.png" alt="image-20221203143215923"></p><p>[(36条消息) Netty指南（7）：Google protobuf 基本介绍_非常之观常在险远的博客-CSDN博客_google.protobuf](<a href="https://blog.csdn.net/m0_50275872/article/details/124601019?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle">https://blog.csdn.net/m0_50275872/article/details/124601019?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle</a> Protobuf&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2<del>all</del>sobaiduweb~default-0-124601019.142^v67^pc_rank_34_queryrelevant25,201^v3^control_2,213^v2^t3_control2&amp;spm&#x3D;1018.2226.3001.4187)</p><p>[(36条消息) 谷歌protobuf(Protocol buffers)的使用_星辰1024的博客-CSDN博客_谷歌protobuf](<a href="https://blog.csdn.net/weixin_45491728/article/details/118682396?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle">https://blog.csdn.net/weixin_45491728/article/details/118682396?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Goodle</a> Protobuf&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2<del>all</del>sobaiduweb~default-1-118682396.142^v67^pc_rank_34_queryrelevant25,201^v3^control_2,213^v2^t3_control2&amp;spm&#x3D;1018.2226.3001.4187)</p><p>Protocol buffers 是 Google 的语言中立、平台中立、可扩展的结构化数据序列化机制——像 XML，但更小、更快、更简单。您可以定义一次数据的结构化方式，然后您可以使用特殊生成的源代码轻松地使用各种语言在各种数据流中写入和读取结构化数据。<br>Photocol buffers 是一种比json和xml等序列化工具更加轻量和高效的结构化数据存储格式，性能比json和xml真的强很多。<br>原理图：</p><p><img src="/../images/image-20221203142228448.png" alt="image-20221203142228448"></p><h1 id="json"><a href="#json" class="headerlink" title="json"></a>json</h1><p><code>JsonDotNet</code> 解析<code>json</code>用的类库</p><h1 id="Entity-Framework"><a href="#Entity-Framework" class="headerlink" title="Entity Framework"></a><strong>Entity Framework</strong></h1>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;策划文档  美术规范  技术文档&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;untiy 2018 配套使用 vs2017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;配置表工具  excel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;协议工具   客户端与服务端的约定 为协议&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;其他工具   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;框架  客户端    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         日志  配置  数据加载  网络 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;框架  服务端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         日志 配置 数据加载 网络 DB访问 基础组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;json 比较灵活 可以做嵌套 性能比较高&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Entity Framework&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>极世界01</title>
    <link href="http://example.com/2022/11/19/%E6%9E%81%E4%B8%96%E7%95%8C01/"/>
    <id>http://example.com/2022/11/19/%E6%9E%81%E4%B8%96%E7%95%8C01/</id>
    <published>2022-11-19T08:52:38.000Z</published>
    <updated>2022-11-23T08:27:38.843Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">项目准备</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a>项目准备</h1><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p><img src="/../images/image-20221119165947100.png" alt="image-20221119165947100"></p><p>使用谷歌的协议工具<code>GooGle Protobuf</code></p><h2 id="框架客户端"><a href="#框架客户端" class="headerlink" title="框架客户端"></a>框架客户端</h2><p><img src="/../images/image-20221119170242452.png" alt="image-20221119170242452"></p><h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><p><img src="/../images/image-20221119170624554.png" alt="image-20221119170624554"></p><h2 id="两种单例"><a href="#两种单例" class="headerlink" title="两种单例"></a>两种单例</h2><h3 id="普通类单例"><a href="#普通类单例" class="headerlink" title="普通类单例"></a>普通类单例</h3><p><img src="/../images/image-20221119174528835.png" alt="image-20221119174528835"></p><h3 id="游戏对象单例"><a href="#游戏对象单例" class="headerlink" title="游戏对象单例"></a>游戏对象单例</h3><p><img src="/../images/image-20221119174607124.png" alt="image-20221119174607124"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;项目准备&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="极世界" scheme="http://example.com/tags/%E6%9E%81%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>unity11-19</title>
    <link href="http://example.com/2022/11/19/unity11-19/"/>
    <id>http://example.com/2022/11/19/unity11-19/</id>
    <published>2022-11-19T05:01:51.000Z</published>
    <updated>2022-11-19T09:01:34.135Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">偷偷把项目做完了</span><br><span class="line">哔哩哔哩展示</span><br><span class="line">https://www.bilibili.com/video/BV1gd4y187rd</span><br><span class="line">还有晚上发工资的功能因为时长原因没有展示</span><br></pre></td></tr></table></figure><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;偷偷把项目做完了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;哔哩哔哩展示&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;https://www.bilibili.com/video/BV1gd4y187rd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;还有晚上发工资的功能因为时长原因没有展示&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-7</title>
    <link href="http://example.com/2022/11/07/unity11-7/"/>
    <id>http://example.com/2022/11/07/unity11-7/</id>
    <published>2022-11-07T00:40:38.000Z</published>
    <updated>2022-11-07T15:05:41.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">菜品属性查看</span><br><span class="line">菜品设置</span><br><span class="line">菜品开发</span><br><span class="line"></span><br><span class="line">2022年11月7日 舍友阳了  项目拖延了</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="菜品属性查看"><a href="#菜品属性查看" class="headerlink" title="菜品属性查看"></a>菜品属性查看</h1><p><img src="/../images/image-20221107211545129.png" alt="image-20221107211545129"></p><h1 id="菜品设置"><a href="#菜品设置" class="headerlink" title="菜品设置"></a>菜品设置</h1><p><img src="/../images/image-20221107211605068.png" alt="image-20221107211605068"></p><h1 id="菜品开发"><a href="#菜品开发" class="headerlink" title="菜品开发"></a>菜品开发</h1><p><img src="/../images/image-20221107211617752.png" alt="image-20221107211617752"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;菜品属性查看&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;菜品设置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;菜品开发&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2022年11月7日 舍友阳了  项目拖延了&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-6</title>
    <link href="http://example.com/2022/11/06/unity11-6/"/>
    <id>http://example.com/2022/11/06/unity11-6/</id>
    <published>2022-11-06T00:04:25.000Z</published>
    <updated>2022-11-07T13:14:21.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">店员属性显示</span><br><span class="line">上任店员，下任店员</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="店员属性显示"><a href="#店员属性显示" class="headerlink" title="店员属性显示"></a>店员属性显示</h1><p><img src="/../images/image-20221106083432634.png" alt="image-20221106083432634"></p><h1 id="下任店员"><a href="#下任店员" class="headerlink" title="下任店员"></a>下任店员</h1><p><img src="/../images/image-20221107083221728.png" alt="image-20221107083221728"></p><h1 id="上任店员"><a href="#上任店员" class="headerlink" title="上任店员"></a>上任店员</h1><p><img src="/../images/image-20221107083239152.png" alt="image-20221107083239152"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;店员属性显示&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;上任店员，下任店员&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-4</title>
    <link href="http://example.com/2022/11/04/unity11-4/"/>
    <id>http://example.com/2022/11/04/unity11-4/</id>
    <published>2022-11-04T09:34:49.000Z</published>
    <updated>2022-11-06T00:08:04.877Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">没有继承MonoBehaviour的类不能获取到继承 MonoBehaviour的脚本</span><br><span class="line">遍历字典的方法</span><br><span class="line">写了雇佣店员界面</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="遍历字典的方法"><a href="#遍历字典的方法" class="headerlink" title="遍历字典的方法"></a>遍历字典的方法</h1><p><strong>1、使用for遍历字典(Dictionary)</strong></p><p>注意：ElementAt()需要引入using System.Linq命名空间，Dictionary命令空间是using System.Collections.Generic;</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">     <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dic.Count; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> item = dic.ElementAt (i);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + item.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + item.Value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dic.Count; i++) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + dic.Keys.ElementAt (i));</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + dic.Values.ElementAt (i));</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>2、使用foreach遍历字典(Dictionary)</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">string</span> key <span class="keyword">in</span> dic.Keys) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + dic[key]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="built_in">string</span> <span class="keyword">value</span> <span class="keyword">in</span> dic.Values) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; item <span class="keyword">in</span> dic) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + item.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + item.Value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>3、使用while遍历字典(Dictionary)</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic =</span><br><span class="line">            <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">                [<span class="string">&quot;key1&quot;</span>] = <span class="string">&quot;value1&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key2&quot;</span>] = <span class="string">&quot;value2&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;key3&quot;</span>] = <span class="string">&quot;value3&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">     <span class="keyword">var</span> enumerator = dic.GetEnumerator ();</span><br><span class="line">        <span class="keyword">while</span> (enumerator.MoveNext ()) &#123;</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;key is &quot;</span> + enumerator.Current.Key);</span><br><span class="line">            Console.WriteLine (<span class="string">&quot;value is &quot;</span> + enumerator.Current.Value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h1 id="雇佣店员界面"><a href="#雇佣店员界面" class="headerlink" title="雇佣店员界面"></a>雇佣店员界面</h1><p><img src="/../images/image-20221106080800777.png" alt="image-20221106080800777"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;没有继承MonoBehaviour的类不能获取到继承 MonoBehaviour的脚本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;遍历字典的方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;写了雇佣店员界面&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-3</title>
    <link href="http://example.com/2022/11/03/unity11-3/"/>
    <id>http://example.com/2022/11/03/unity11-3/</id>
    <published>2022-11-03T14:29:40.000Z</published>
    <updated>2022-11-03T15:43:11.942Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">写了一下主界面</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h1><p><img src="/../images/image-20221103223104622.png" alt="image-20221103223104622"></p><p><img src="/../images/image-20221103234305052.png" alt="image-20221103234305052"></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;写了一下主界面&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-2</title>
    <link href="http://example.com/2022/11/02/unity11-2/"/>
    <id>http://example.com/2022/11/02/unity11-2/</id>
    <published>2022-11-02T08:16:47.000Z</published>
    <updated>2022-11-02T15:04:24.847Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置发布屏幕大小</span><br><span class="line">时钟脚本</span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="设置发布屏幕大小"><a href="#设置发布屏幕大小" class="headerlink" title="设置发布屏幕大小"></a>设置发布屏幕大小</h1><p><img src="/../images/image-20221102204249929.png" alt="image-20221102204249929"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">setScreen</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;屏幕大小比例&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> x = <span class="number">0.7f</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetScreen</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Screen.SetResolution(<span class="built_in">int</span>.Parse((<span class="number">1920</span>*x).ToString()),<span class="built_in">int</span>.Parse((<span class="number">1080</span> * x).ToString()), <span class="literal">true</span>);</span><br><span class="line">        Screen.fullScreen = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SetScreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="时钟脚本"><a href="#时钟脚本" class="headerlink" title="时钟脚本"></a>时钟脚本</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Clock</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;小时&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> hour = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分钟&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> minutes = <span class="number">0</span>;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> seconds = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> realTime=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;是否显示秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> pointerSeconds_is_action;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerHours;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;分针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerMinutes;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;秒针&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject pointerSeconds;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;时间速度&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> clockSpeed = <span class="number">1.0f</span>;     <span class="comment">// 1.0f = realtime, &lt; 1.0f = slower, &gt; 1.0f = faster</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前时间</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> msecs=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        pointerSeconds.SetActive(pointerSeconds_is_action);</span><br><span class="line">    <span class="comment">//-- set real time</span></span><br><span class="line">    <span class="keyword">if</span> (realTime)</span><br><span class="line">    &#123;</span><br><span class="line">    hour=System.DateTime.Now.Hour;</span><br><span class="line">    minutes=System.DateTime.Now.Minute;</span><br><span class="line">    seconds=System.DateTime.Now.Second;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//-- calculate time</span></span><br><span class="line">        msecs += Time.deltaTime * clockSpeed;</span><br><span class="line">        <span class="keyword">if</span>(msecs &gt;= <span class="number">1.0f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = (<span class="built_in">int</span>)msecs;</span><br><span class="line">            seconds += x;</span><br><span class="line">            msecs -= x ;</span><br><span class="line">            <span class="keyword">if</span>(seconds &gt;= <span class="number">60</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                x = seconds / <span class="number">60</span>;</span><br><span class="line">                seconds %= <span class="number">60</span>;</span><br><span class="line">                minutes += x;</span><br><span class="line">                <span class="keyword">if</span>(minutes &gt; <span class="number">60</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    x = minutes / <span class="number">60</span>;</span><br><span class="line">                    minutes %= <span class="number">60</span>;</span><br><span class="line">                    hour += x;</span><br><span class="line">                    <span class="keyword">if</span> (hour &gt;= <span class="number">24</span>)</span><br><span class="line">                       hour %= <span class="number">24</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span> rotationSeconds = (<span class="number">360.0f</span> / <span class="number">60.0f</span>)  * seconds;</span><br><span class="line">        <span class="built_in">float</span> rotationMinutes = (<span class="number">360.0f</span> / <span class="number">60.0f</span>) * minutes + (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>) * seconds);</span><br><span class="line">        <span class="built_in">float</span> rotationHours   = ((<span class="number">360.0f</span> / <span class="number">12.0f</span>) * hour) + ((<span class="number">360.0f</span> / (<span class="number">60.0f</span> * <span class="number">12.0f</span>)) * minutes)+ (<span class="number">360f</span> / (<span class="number">60f</span> * <span class="number">60f</span>*<span class="number">60f</span>) * seconds);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pointerSeconds_is_action)</span><br><span class="line">        pointerSeconds.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationSeconds);</span><br><span class="line">        pointerMinutes.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationMinutes);</span><br><span class="line">        pointerHours.transform.localEulerAngles   = <span class="keyword">new</span> Vector3(<span class="number">0.0f</span>, <span class="number">0.0f</span>, rotationHours);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;设置发布屏幕大小&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;时钟脚本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>unity11-1</title>
    <link href="http://example.com/2022/11/01/unity11-1/"/>
    <id>http://example.com/2022/11/01/unity11-1/</id>
    <published>2022-10-31T23:43:09.000Z</published>
    <updated>2022-11-02T08:15:52.368Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数据库插入</span><br><span class="line">设置场景异步加载场景条</span><br><span class="line">玩家数据管理</span><br><span class="line">玩家登录注册写完了，可以进入游戏场景了 好耶</span><br><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="数据库插入函数"><a href="#数据库插入函数" class="headerlink" title="数据库插入函数"></a>数据库插入函数</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span>(<span class="params"><span class="built_in">string</span> sql</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    SqlCommand insert = <span class="keyword">new</span> SqlCommand(sql,sqlCon);</span><br><span class="line">    insert.ExecuteNonQuery();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    sda = new SqlDataAdapter(sql, sqlAddress);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Debug.Log(<span class="string">&quot;插入操作执行了！！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="设置场景异步加载场景条"><a href="#设置场景异步加载场景条" class="headerlink" title="设置场景异步加载场景条"></a>设置场景异步加载场景条</h1><p>小姐姐会跑动进度条会变化</p><p><img src="/../images/image-20221102160631270.png" alt="image-20221102160631270"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">lode_scene</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//加载的场景名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> lodeing_scene;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;加载条&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> Image lode_Image;</span><br><span class="line">    <span class="keyword">public</span> RectTransform sister;</span><br><span class="line">    <span class="comment">//加载进度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> lode_float;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> l = <span class="number">-234f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> r =  <span class="number">285f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> len;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        len = r-l;</span><br><span class="line">        lode_float = <span class="number">0f</span>;</span><br><span class="line">        lodeing_scene = GameDataManager.GetString(<span class="string">&quot;lodeing_scene&quot;</span>);</span><br><span class="line">        Debug.Log(lodeing_scene);</span><br><span class="line">        StartCoroutine(LoadScene());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> AsyncOperation <span class="keyword">async</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> time=<span class="number">2f</span>;</span><br><span class="line">    <span class="function">IEnumerator <span class="title">LoadScene</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">async</span> = SceneManager.LoadSceneAsync(lodeing_scene);</span><br><span class="line">        <span class="keyword">async</span>.allowSceneActivation = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (!<span class="keyword">async</span>.isDone)</span><br><span class="line">        &#123;</span><br><span class="line">            time -= Time.deltaTime;</span><br><span class="line">            lode_float = <span class="keyword">async</span>.progress / <span class="number">0.9f</span>;</span><br><span class="line">            lode_Image.rectTransform.localScale = <span class="keyword">new</span> Vector3(lode_float, <span class="number">1f</span>, <span class="number">1f</span>);</span><br><span class="line">            sister.anchoredPosition = <span class="keyword">new</span> Vector2(l + len * lode_float, sister.anchoredPosition.y);</span><br><span class="line">            Debug.Log(time);</span><br><span class="line">            <span class="keyword">if</span> (time &lt; <span class="number">0f</span>)</span><br><span class="line">                <span class="keyword">async</span>.allowSceneActivation = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="数据库报错"><a href="#数据库报错" class="headerlink" title="数据库报错"></a>数据库报错</h1><p><img src="/../images/image-20221102075015989.png" alt="image-20221102075015989"></p><p>数据库报了这么个错，发现执行总资产更新函数后，数据库才连接成功</p><p>所以报错原因是在还没有连接数据库的时候就进行了查询操作，再看一下连接数据库，</p><p>是在start中进行的，改为在Awake中进行，就不在报错了</p><p><img src="/../images/image-20221102075514608.png" alt="image-20221102075514608"></p><h1 id="玩家数据管理"><a href="#玩家数据管理" class="headerlink" title="玩家数据管理"></a>玩家数据管理</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">palyer_information</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;数据库管理脚本&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> database_manage database_Manage;</span><br><span class="line">    <span class="comment">//玩家账号id</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> player_account_id;</span><br><span class="line">    <span class="comment">//玩家账号id变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; player_account_id_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 玩家账号id属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Player_Account_Id</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">get</span> &#123; <span class="keyword">return</span> player_account_id; &#125;</span><br><span class="line">       <span class="keyword">set</span></span><br><span class="line">       &#123;</span><br><span class="line">            player_account_id = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (player_account_id_action != <span class="literal">null</span>)</span><br><span class="line">                player_account_id_action(player_account_id);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> store_name;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 店铺名称属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Store_Name &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> store_name; &#125; <span class="keyword">set</span> &#123; store_name = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//总资产</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> total_assets;</span><br><span class="line">    <span class="comment">//总资产变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; total_assets_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 总资产属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Total_Assets</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> total_assets; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            total_assets = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (total_assets_action != <span class="literal">null</span>)</span><br><span class="line">                total_assets_action(total_assets);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">//基础魅力</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> basic_charm;</span><br><span class="line">    <span class="comment">//基础魅力变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; basic_charm_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 基础魅力属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Basic_Charm</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> basic_charm; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            basic_charm = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (basic_charm_action != <span class="literal">null</span>)</span><br><span class="line">                basic_charm_action(basic_charm);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实际魅力</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> actual_charm;</span><br><span class="line">    <span class="comment">//实际魅力变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; actual_charm_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 实际魅力属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Actual_Charm</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> actual_charm; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            actual_charm = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (actual_charm_action != <span class="literal">null</span>)</span><br><span class="line">                actual_charm_action(actual_charm);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//魅力提升率</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> charm_ascend_rate;</span><br><span class="line">    <span class="comment">//魅力提升率变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt;charm_ascend_rate_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 魅力提升率属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Charm_Ascend_Rate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> charm_ascend_rate; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            charm_ascend_rate = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (charm_ascend_rate_action != <span class="literal">null</span>)</span><br><span class="line">                charm_ascend_rate_action(charm_ascend_rate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//价格提升率</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> price_ascend_rate;</span><br><span class="line">    <span class="comment">//价格提升率变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; price_ascend_rate_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 价格提升率属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Price_Ascend_Rate</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> price_ascend_rate; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            price_ascend_rate = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (price_ascend_rate_action != <span class="literal">null</span>)</span><br><span class="line">                price_ascend_rate_action(price_ascend_rate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大桌椅数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_table_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大桌椅数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Table_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_table_num; &#125; <span class="keyword">set</span> &#123; max_table_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大店员数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_shop_assistant_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大店员数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Shop_Assistant_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_shop_assistant_num; &#125; <span class="keyword">set</span> &#123; max_shop_assistant_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最大菜单位</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> max_dishes_num;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 最大菜单位属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Max_Dishes_Num &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> max_dishes_num; &#125; <span class="keyword">set</span> &#123; max_dishes_num = <span class="keyword">value</span>; &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前天数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> now_days;</span><br><span class="line">    <span class="comment">//当前天数变化事件</span></span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">int</span>&gt; now_days_action;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 当前天数属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Now_Days</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> now_days; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            now_days = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (now_days_action != <span class="literal">null</span>) </span><br><span class="line">                now_days_action(now_days);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        player_account_id_action += player_account_id_palyer_information;</span><br><span class="line">        charm_ascend_rate_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">        &#123;</span><br><span class="line">            Actual_Charm = Basic_Charm * (<span class="number">100</span> + rate) / <span class="number">100</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        basic_charm_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> charm)</span><br><span class="line">        &#123;</span><br><span class="line">            Actual_Charm = charm * (<span class="number">100</span> + Charm_Ascend_Rate) / <span class="number">100</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        total_assets_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> assets)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;总资产&quot;</span>, assets));</span><br><span class="line">         &#125;;</span><br><span class="line">        basic_charm_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> charm)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;总魅力&quot;</span>, charm));</span><br><span class="line">         &#125;;</span><br><span class="line">        charm_ascend_rate_action+= <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;魅力增长率&quot;</span>, rate));</span><br><span class="line">         &#125;;</span><br><span class="line">        price_ascend_rate_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> rate)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;价格增长率&quot;</span>, rate));</span><br><span class="line">         &#125;;</span><br><span class="line">        now_days_action += <span class="built_in">delegate</span> (<span class="built_in">int</span> days)</span><br><span class="line">         &#123;</span><br><span class="line">             database_Manage.update(palyer_information_update_sql_string(<span class="string">&quot;当前天数&quot;</span>, days));</span><br><span class="line">         &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//更新玩家ID</span></span><br><span class="line">        Player_Account_Id = GameDataManager.GetString(<span class="string">&quot;player_id&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    private void Update()</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        if(Input.GetMouseButtonDown(1))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;当前账号id:&#123;Player_Account_Id&#125;,总资产:&#123;Total_Assets&#125;,基础魅力:&#123;Basic_Charm&#125;,实际魅力:&#123;Actual_Charm&#125;&quot;);</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;魅力增长率:&#123;Charm_Ascend_Rate&#125;,价格增长率:&#123;Price_Ascend_Rate&#125;,当前天数&#123;Now_Days&#125;&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        if(Input.GetKeyDown(KeyCode.Space))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Total_Assets += 1000;</span></span><br><span class="line"><span class="comment">            Basic_Charm += 1000;</span></span><br><span class="line"><span class="comment">            Debug.Log($&quot;现在的实际魅力为&#123;Actual_Charm&#125;&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        if(Input.GetKeyDown(KeyCode.L))</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            Charm_Ascend_Rate += 10;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新玩家信息拼接sql语句用</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span>更新的玩家信息类型<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type_value&quot;&gt;</span>更新数据的值<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">palyer_information_update_sql_string</span>(<span class="params"><span class="built_in">string</span> type, <span class="built_in">int</span> type_value</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Debug.Log(string.Format(&quot;update 玩家信息表 set &#123;0&#125; = &#123;1&#125; where 账号 = &#x27;&#123;2&#125;&#x27;; &quot;, type, type_value, player_account_id));</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">&quot;update 玩家信息表 set &#123;0&#125; = &#123;1&#125; where 账号 = &#x27;&#123;2&#125;&#x27;; &quot;</span>, type, type_value, player_account_id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新玩家ID时，玩家信息脚本做的事情</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 更新有关店铺的数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;player_account_id&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">player_account_id_palyer_information</span>(<span class="params"><span class="built_in">string</span> player_account_id</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行玩家ID更新函数了！！&quot;</span>);</span><br><span class="line">        DataSet dataSet = database_Manage.account_information(player_account_id);</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行店铺更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//店铺名称</span></span><br><span class="line">        Store_Name = dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">2</span>].ToString();</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行总资产更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//总资产</span></span><br><span class="line">        Total_Assets = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">3</span>].ToString());</span><br><span class="line">        Debug.Log(<span class="string">&quot;执行基础魅力更新函数了！！&quot;</span>);</span><br><span class="line">        <span class="comment">//基础魅力</span></span><br><span class="line">        Basic_Charm = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">4</span>].ToString());</span><br><span class="line">        <span class="comment">//最大桌位数</span></span><br><span class="line">        Max_Table_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">5</span>].ToString());</span><br><span class="line">        <span class="comment">//最大店员数</span></span><br><span class="line">        Max_Shop_Assistant_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">6</span>].ToString());</span><br><span class="line">        <span class="comment">//最大菜单位</span></span><br><span class="line">        Max_Dishes_Num = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">7</span>].ToString());</span><br><span class="line">        <span class="comment">//魅力增长率</span></span><br><span class="line">        Charm_Ascend_Rate = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">8</span>].ToString());</span><br><span class="line">        <span class="comment">//价格增长率</span></span><br><span class="line">        Price_Ascend_Rate = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">9</span>].ToString());</span><br><span class="line">        <span class="comment">//当前天数</span></span><br><span class="line">        Now_Days = <span class="built_in">int</span>.Parse(dataSet.Tables[<span class="number">0</span>].Rows[<span class="number">0</span>][<span class="number">10</span>].ToString());</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="玩家登录注册"><a href="#玩家登录注册" class="headerlink" title="玩家登录注册"></a>玩家登录注册</h1><h2 id="登录主管理"><a href="#登录主管理" class="headerlink" title="登录主管理"></a>登录主管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.SceneManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">loginmain</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_return_button</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SceneManager.LoadScene(<span class="string">&quot;beginScene&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;登录界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject login_panel;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;注册界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject enroll_panel;</span><br><span class="line">    <span class="comment">// 当前选择的界面</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> current_panel;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Current_panel</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;<span class="keyword">return</span> current_panel; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//0表示登录界面</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">value</span>==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                login_panel.SetActive(<span class="literal">true</span>);</span><br><span class="line">                enroll_panel.SetActive(<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//否则 1 表示注册界面</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                enroll_panel.SetActive(<span class="literal">true</span>);</span><br><span class="line">                login_panel.SetActive(<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 展示登录界面按钮点击事件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_login_panel</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 展示注册页面的按钮点击事件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_enroll_panel</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Current_panel = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注册管理"><a href="#注册管理" class="headerlink" title="注册管理"></a>注册管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">enerollmanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;数据管理类&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> database_manage datamanage;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;账号text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField account_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;密码text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField password_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;确认密码text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField repassword_text;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;报错界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject waring_panel;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject shop_name_plane;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;注册成功界面&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject enroll_succeed_plane;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shop_name_plane.GetComponent&lt;shopnamemanage&gt;().shopname_active += shop_name_action_enerollmanage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        enable_init();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">enable_init</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        account_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        password_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        repassword_text.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        init_waring_plane();</span><br><span class="line">        shop_name_plane.SetActive(<span class="literal">false</span>);</span><br><span class="line">        enroll_succeed_plane.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> account;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> password;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> repassword;</span><br><span class="line">    [<span class="meta">HideInInspector</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> shop_name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_enerollbutton</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        init_waring_plane();</span><br><span class="line">        account = account_text.text;</span><br><span class="line">        password = password_text.text;</span><br><span class="line">        repassword = repassword_text.text;</span><br><span class="line">        Debug.Log(<span class="string">&quot;账号&quot;</span> + account + <span class="string">&quot;  密码&quot;</span> + password+<span class="string">&quot;  确认密码&quot;</span>+repassword);</span><br><span class="line">        <span class="keyword">if</span> (account == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">0</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (account.Length != <span class="number">5</span>) waring_panel.transform.GetChild(<span class="number">5</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (datamanage.account_is_exist(account)) waring_panel.transform.GetChild(<span class="number">3</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (password == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">1</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (repassword == <span class="string">&quot;&quot;</span>) waring_panel.transform.GetChild(<span class="number">2</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (password != repassword) waring_panel.transform.GetChild(<span class="number">4</span>).gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> shop_name_plane.SetActive(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 将警告界面的text都设为不可见</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init_waring_plane</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; waring_panel.transform.childCount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            waring_panel.transform.GetChild(i).gameObject.SetActive(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shop_name_action_enerollmanage</span>(<span class="params"><span class="built_in">string</span> shopname</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        shop_name = shopname;</span><br><span class="line">        enable_init();</span><br><span class="line">        <span class="built_in">string</span> sql = <span class="built_in">string</span>.Format(<span class="string">&quot;insert into 玩家信息表 values(&#x27;&#123;0&#125;&#x27;,&#x27;&#123;1&#125;&#x27;,&#x27;&#123;2&#125;&#x27;,1000,100,9,9,9,0,0,0);&quot;</span>, account, password, shopname);</span><br><span class="line">        Debug.Log(sql);</span><br><span class="line">        datamanage.insert(sql);</span><br><span class="line">        enroll_succeed_plane.GetComponent&lt;enrollsucceedmanage&gt;().set_shopname_and_account(account,shop_name);</span><br><span class="line">        Debug.Log(<span class="string">&quot;账号&quot;</span> + account + <span class="string">&quot;  密码&quot;</span> + password + <span class="string">&quot;  确认密码&quot;</span> + repassword+<span class="string">&quot;  店铺名称  &quot;</span>+shop_name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注册成功管理"><a href="#注册成功管理" class="headerlink" title="注册成功管理"></a>注册成功管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">enrollsucceedmanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;账号名称框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField account_name_field;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shop_name_field;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 设置注册成功界面</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;account_name&quot;&gt;</span>账号<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;shop_name&quot;&gt;</span>店铺名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set_shopname_and_account</span>(<span class="params"><span class="built_in">string</span> account_name,<span class="built_in">string</span> shop_name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">       </span><br><span class="line">        account_name_field.text = account_name;</span><br><span class="line">        shop_name_field.text = shop_name;</span><br><span class="line">        gameObject.SetActive(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        gameObject.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="设置店铺名称"><a href="#设置店铺名称" class="headerlink" title="设置店铺名称"></a>设置店铺名称</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">shopnamemanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称输入框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shopname_field;</span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> shopname;</span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; shopname_active;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;请输入店铺名的text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject please_shop_name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Shopname</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> shopname; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            shopname = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (shopname_active != <span class="literal">null</span>) shopname_active(shopname);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shopname_field.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 点击店铺名称确认按钮</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_shop_name_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (shopname_field.text == <span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">            Shopname = shopname_field.text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="登录管理"><a href="#登录管理" class="headerlink" title="登录管理"></a>登录管理</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Events;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">shopnamemanage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;店铺名称输入框&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputField shopname_field;</span><br><span class="line">    <span class="comment">//店铺名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> shopname;</span><br><span class="line">    <span class="keyword">public</span> UnityAction&lt;<span class="built_in">string</span>&gt; shopname_active;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;请输入店铺名的text&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> GameObject please_shop_name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Shopname</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> shopname; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            shopname = <span class="keyword">value</span>;</span><br><span class="line">            <span class="keyword">if</span> (shopname_active != <span class="literal">null</span>) shopname_active(shopname);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        shopname_field.text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 点击店铺名称确认按钮</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onchick_shop_name_make_sure</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (shopname_field.text == <span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            please_shop_name.SetActive(<span class="literal">false</span>);</span><br><span class="line">            Shopname = shopname_field.text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;内容&quot;&gt;&lt;a href=&quot;#内容&quot; class=&quot;headerlink&quot; title=&quot;内容&quot;&gt;&lt;/a&gt;内容&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;数据库插入&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设置场景异步加载场景条&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;玩家数据管理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;玩家登录注册写完了，可以进入游戏场景了 好耶&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="unity" scheme="http://example.com/categories/unity/"/>
    
    
    <category term="美食梦物语" scheme="http://example.com/tags/%E7%BE%8E%E9%A3%9F%E6%A2%A6%E7%89%A9%E8%AF%AD/"/>
    
  </entry>
  
</feed>
